(function(){var n=angular.module("softouch",[]),t;n.filter("startFrom",function(){return function(n,t){return t=+t,n.slice(t)}});n.filter("mediaType",function(){return function(n,t){for(var r=[],i=0;i<n.length;i++)(t.id&n[i].Type)==n[i].Type&&r.push(n[i]);return r}});n.filter("startsWithLetter",function(){return function(n,t){for(var r=[],s=new RegExp("^[0-9].*$"),i,u,e,o,f=0;f<n.length;f++){i=n[f];switch(t.letter){case"%":r.push(i);break;case"#":s.test(i.value)&&r.push(i);break;case"TOP":i.topTen&&r.push(i);break;default:for(u=0;u<=t.letter.length-1;u++)e=t.letter.substring(u,u+1),o=e.toUpperCase()==i.value.substring(0,1).toUpperCase(),o&&r.push(i)}}return r}});t=function(n,t){t.hashPrefix("");t.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1})};t.$inject=["$httpProvider","$locationProvider","$rootScopeProvider"];n.config(t)})(),function(n){var t=function(n,t,i,r){var u,f,e,o;n.submitted=!1;n.submittingForm=!1;n.error={};n.info={};n.newOrg={};n.key={};n.formData={};n.activate=function(){if(!n.submittingForm){if(n.submittingForm=!0,n.submitted=!0,!n.activationForm.$valid){n.submittingForm=!1;return}var t={Key1:n.key.key1,Key2:n.key.key2,Key3:n.key.key3,Key4:n.key.key4,Key5:n.key.key5,RegisterToAccountId:i.selectedOrganization.AccountId,iGuid:n.formData.iguid};n.info.messages=["Activating software."];showInfoMessage();r.activate(t).then(function(n){u(n)},function(n){f(n)})}};u=function(t){n.submittingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):(n.info.messages=["Software activated for: "+i.selectedOrganization.Name],showInfoMessage())};f=function(t){n.submittingForm=!1;n.error.messages=t.ErrorMessages;showErrorMessage()};n.displayAddOrgModal=function(){$("#orgModal").modal()};n.createOrganization=function(){if(!n.submittingForm){if(n.submittingForm=!0,n.submitted=!0,!n.orgForm.$valid){n.submittingForm=!1;return}n.info.messages=["Creating New Org."];showModalInfoMessage();i.newOrganization=n.newOrg;i.addOrg().then(function(n){e(n)},function(n){o(n)})}};e=function(t){n.submittingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showModalErrorMessage()):(hideMessage(),n.newOrg={},n.orgForm.$setUntouched(),n.submitted=!1,$("#orgModal").modal("hide"))};o=function(t){n.submittingForm=!1;n.errorMessages=t.ErrorMessages;showErrorMessage()}};n.controller("activationController",["$scope","$rootScope","organizationService","activationService",t])}(angular.module("softouch")),function(n){var t=function(n){var t="banner-";n.activeTab=1;n.maxTabs=$(t).length;n.select_group=function(i,r){$(r).parent().children().removeClass("sel");$(r).addClass("sel");$("[target]").hide().removeClass("sel");$("[target='"+t+i+"']").addClass("sel").fadeIn("slow","swing");n.activeTab=parseFloat(i)};n.select_next=function(){n.activeTab+1>n.maxTabs?n.activeTab=1:n.activeTab+=1;$("[target]").hide().removeClass("sel");$("[target='"+t+n.activeTab+"']").addClass("sel").fadeIn("slow","swing")};n.select_previous=function(){n.activeTab-1<1?n.activeTab=n.maxTabs:n.activeTab-=1;$("[target]").hide().removeClass("sel");$("[target='"+t+n.activeTab+"']").addClass("sel").fadeIn("slow","swing")}};n.controller("bannerController",["$scope",t])}(angular.module("softouch")),function(n){var t=function(n,t){function u(){t.getBibles().then(r,i)}window.x=n;n.legacyBibles=[];n.currentBibles=[];var i=function(){n.legacyBibles=[];n.currentBibles=[];n.error="unable to retreive bibles"},r=function(t){n.legacyBibles=t.filter(function(n){return n.BibleAttributes.LegacySupported});n.currentBibles=t.filter(function(n){return n.BibleAttributes.V6Supported})};n.select_group=function(n){$("[target]").removeClass("sel");var t=$(n).attr("target");$("[target='"+t+"']").addClass("sel")};u()};n.controller("bibleController",["$scope","bibleService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function f(t){n.quickBuyList=[{SaveCardAs:"QuickBuy disabled",RowId:0}];t!==undefined&&(n.quickBuyList=$.merge(n.quickBuyList,t));var i=n.quickBuyList.filter(function(n){return n.IsQuickBuyCard});n.quickBuy.selectedCard=i.length!==0?i[0]:n.quickBuyList[0]}var u,e,o;n.submitted=!1;n.error={};n.error.theBigOne=!1;n.info={};n.card={};n.address={};n.cardsList=[];n.quickBuyList=[];n.quickBuy={};n.adjustedTotal=0;n.payment={};n.payment.selectedCard=0;n.payment.applyCredit=!1;u=function(){toggleBodyCover(!0);r.getCards().then(function(t){t.Error?(n.error.theBigOne=!0,n.error.messages=t.ErrorMessages,showErrorMessage(),n.cardsList=[],f()):(n.cardsList=r.cardData,f(n.cardsList),hideMessage(),toggleNoItemsMessage(n.cardsList.length));toggleBodyCover()})};n.removeCard=function(t,i){if(t){var u=window.confirm("Are you sure you want to delete this credit card? \n"+i);u&&(n.info=["Deleting Card"],showModalInfoMessage(),r.remove(t).then(function(){hideMessage();n.cardsList=r.cardData}))}};n.displayNewCardModal=function(){hideMessage();$("#cardModal").modal()};n.saveCard=function(){if(n.submitted=!0,n.cardForm.$valid){n.info.messages=["Adding card."];showModalInfoMessage();var t={};n.card.NewBillingAddress=n.address;t.NewCreditCard=n.card;r.addNewCard(t).then(function(n){e(n)},function(t){n.error.messages=t.ErrorMessages;showModalErrorMessage()})}};e=function(t){t.Error?(n.error.messages=t.ErrorMessages,showModalErrorMessage()):(n.info.messages=["Card Added"],showModalInfoMessage(),n.submitted=!1,n.card={},n.address={},n.cardForm.$setUntouched(),u(),$("#cardModal").modal("hide"))};n.setQuickBuyCard=function(){var t={};t.cardId=n.quickBuy.selectedCard.RowId;i.getSetData("/component/setQuickBuyCard",t).then(function(t){t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):(n.info.messages=["QuickBuy Card Set"],showInfoMessage())},function(t){n.error.messages=t.ErrorMessages;showErrorMessage()})};o=t.$on("updatedOrg",function(){u()});n.$on("$destroy",o);angular.element(document).ready(function(){u()})};n.controller("cardController",["$scope","$rootScope","dataService","cardService","paginationService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function u(t){var i=window.open();i==null?(n.info.messages=["Please check your pop up blocker. Unable to display invoice."],showInfoMessage()):(hideMessage(),$(i.document.body).html(t))}window.peek=n;n.submitted=!1;n.postingForm=!1;n.info={};n.error={};n.summary={};n.newOrg={};n.locateOrg={};n.payment={};n.card={};n.address={};n.complete={};n.payment.setQuickBuyCard=!0;n.removeMe=function(t){var u={},r,f;u.CartDetailId=t;i.cartIt(u,!1);n.summary.itemCount-=1;r=$("#"+t);f=r.attr("data-amount");n.summary.cartTotal-=f;r.slideUp(150)};n.displayAddOrgModal=function(){$("#orgModal").modal()};n.createOrganization=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.orgForm.$valid){n.postingForm=!1;return}n.info.messages=["Creating Organization"];showInfoMessage();var r=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):window.location="/checkout/payment"},u=function(t){n.postingForm=!1;n.error.messages=[t];showErrorMessage()},i={};i.Name=n.newOrg.name;i.Address=n.newOrg.address;t.getSetData("/component/AddOrganization",i).then(r,u)}};n.displaySerialModal=function(){$("#serialLookupModal").modal()};n.locateOrganization=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.locateForm.$valid){n.postingForm=!1;return}n.info.messages=["Locating Organization"];showModalInfoMessage();var i=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showModalErrorMessage()):window.location="/checkout/register"},r=function(t){n.error.messages=[t];showModalErrorMessage()};t.getSetData("/component/lookupAccountBySerial",n.locateOrg).then(i,r)}};n.submitPayment=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.paymentForm.$valid){n.postingForm=!1;return}n.info.messages=["Submitting Order"];showInfoMessage();var r=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):window.location=t.Url},u=function(t){n.postingForm=!1;n.error.messages=[t];showErrorMessage()},i={};i.ApplyStoreCredits=n.payment.applyCredit;i.GuestPaymentEmail=n.payment.guestEmailAddress;i.CardId=n.payment.selectedCard;i.SetQuickBuyCard=n.payment.setQuickBuyCard;i.NewCreditCard=n.card;i.NewCreditCard.NewBillingAddress=n.address;t.getSetData("/component/checkout",i).then(r,u)}};n.createGuestAccount=function(){if(n.postingForm!==!0){n.postingForm=!0;n.submitted=!0;var i=function(t){n.postingForm=!1;t.Error===!0?(n.error.messages=t.ErrorMessages,showErrorMessage()):($("#guest-password").slideUp(250),$("#guest-success").slideDown(250))},r=function(t){n.postingForm=!1;alert(t)};t.getSetData("/component/signupfromguest",n.complete).then(i,r)}};n.printReceipt=function(n){r.viewInvoice(n).then(function(n){u(n)},function(n){console.log(n)})}};n.controller("checkoutController",["$scope","dataService","cartService","historyService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){t.phpBB={};var u=function(){r.setCookie("phpBB",!0,1);$("#supportIframe").attr("src",t.phpBB.url)};angular.element(document).ready(function(){console.log(t.phpBB.url);var n=r.getCookie("phpBB");n==""?u():($("#supportIframe").attr("src",t.phpBB.url),r.deleteCookie("phpBB"))})};n.controller("communityController",["$rootScope","$scope","$http","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.user={};n.info={};n.error={};n.submitted=!1;n.postingForm=!1;n.terms_dialog=function(){$("#membershipModal").modal()};n.createAccount=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.createAccountForm.$valid){n.postingForm=!1;return}n.info.messages=["Creating Account"];showInfoMessage();var i=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):window.location=t.Url},r=function(t){n.error.messages=[t];showErrorMessage()};t.getSetData("/component/signup",n.user).then(i,r)}}};n.controller("createController",["$scope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.products={};t.$on("downloadItemSet",function(t,i){n.products=i.item.CollectionProducts!=null?i.item.CollectionProducts:[i.item];$("div[id^='downloadBtn']").each(function(n,t){$(t).html("Download")});$("#downloadDialog").modal()})};n.controller("downloadItemController",["$scope","$rootScope",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function s(t){n.downloads=t.Purchased;n.purchased=t.Purchased;n.free=t.Free;u();toggleNoItemsMessage(n.downloads.length);toggleBodyCover()}function h(){}function u(){if(n.downloads){var t=n.downloads.filter(function(t){return(n.mediaValue.id&t.Type)===t.Type}).length;n.numberOfPages=Math.ceil(t/n.pageSize);n.numberOfPages==n.currentPage?$(".pagright").addClass("disabled"):$(".pagright").removeClass("disabled");n.currentPage==1?$(".pagleft").addClass("disabled"):$(".pagleft").removeClass("disabled")}}function f(){toggleBodyCover(!0);t.guestToken=n.pageData.guestToken;n.currentPage=1;i.getDownLoads().then(function(n){s(n)},function(n){h(n)})}var e,o;n.pageData={};n.downloads=[];n.free=[];n.purchased=[];n.pageSize=r.itemData.selectedFilters.ipp.length>0?r.itemData.selectedFilters.ipp[0].value:25;n.mediaValue={id:74688,Name:"all media"};n.toggleData=function(t){switch(t){case 1:n.downloads=n.purchased;n.currentPage=1;u();break;case 2:n.downloads=n.free;n.currentPage=1;u()}$("#purchasedToggle > li div").removeClass("sel");$("#purchasedToggle li:nth-child("+t+") div").addClass("sel");toggleNoItemsMessage(n.downloads.length)};t.$on("currentPageChanged",function(t,i){n.currentPage=i.currentPage;u()});n.goNext=function(){$("html,body").scrollTop(0);n.currentPage+1>n.numberOfPages?n.currentPage=n.numberOfPages:n.currentPage+=1;u()};n.goPrev=function(){n.currentPage-1<1?n.currentPage=1:n.currentPage-=1;$("html,body").scrollTop(0);u()};n.$on("mediaValueChanged",function(t,i){n.mediaValue=i.mediaValue;n.currentPage=1;u()});e=t.$on("updatedOrg",function(){f()});n.$on("$destroy",e);o=t.$on("ippChanged",function(){n.pageSize=r.itemData.selectedFilters.ipp.length>0?r.itemData.selectedFilters.ipp[0].value:25;f()});n.$on("$destroy",o);angular.element(document).ready(function(){f()})};n.controller("downloadsController",["$scope","$rootScope","downloadsService","itemService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u){function f(){var t=n.favorites.filter(function(t){return(n.mediaValue.id&t.Type)==t.Type}).length;n.numberOfPages=Math.ceil(t/n.pageSize);n.numberOfPages==n.currentPage?$(".pagright").addClass("disabled"):$(".pagright").removeClass("disabled");n.currentPage==1?$(".pagleft").addClass("disabled"):$(".pagleft").removeClass("disabled")}function l(){toggleBodyCover(!0);n.mediaValue={id:74688,Name:"all media"};n.currentPage=1;i.getFavorites().then(function(n){h(n)},function(n){c(n)})}var e,o,s,h,c;n.filterTitle="My Favorites";n.showFirstControl=!0;n.showSecondControl=!1;n.paginationControls=!0;n.pageSize=u.itemData.selectedFilters.ipp.length>0?u.itemData.selectedFilters.ipp[0].value:25;n.mediaValue={};n.favorites=[];e=t.$on("favorite",function(){n.favorites=i.favoritesData;r.previewData=i.favoritesData});n.$on("$destroy",e);o=t.$on("unfavorite",function(){n.favorites=i.favoritesData;r.previewData=i.favoritesData;f()});n.$on("$destroy",o);s=t.$on("ippChanged",function(){n.pageSize=u.itemData.selectedFilters.ipp.length>0?u.itemData.selectedFilters.ipp[0].value:25;l()});n.$on("$destroy",s);h=function(t){n.favorites=t;n.currentPage=1;f();toggleBodyCover()};c=function(){n.favorites=[];n.error="unable to retreive favorites"};n.$on("mediaValueChanged",function(t,i){n.mediaValue=i.mediaValue;n.currentPage=1;f()});t.$on("currentPageChanged",function(t,i){n.currentPage=i.currentPage;f()});n.goNext=function(){$("html,body").scrollTop(0);n.currentPage+1>n.numberOfPages?n.currentPage=n.numberOfPages:n.currentPage+=1;f()};n.goPrev=function(){n.currentPage-1<1?n.currentPage=1:n.currentPage-=1;$("html,body").scrollTop(0);f()};angular.element(document).ready(function(){l()})};n.controller("favoritesController",["$scope","$rootScope","favoritesService","paginationService","itemService",t])}(angular.module("softouch")),function(n){var t=function(n,t,r,u){var s;t.seasonal={};t.seasonal.activeProductType=u[0].FeatureType.Mini;t.initObjects=function(n){for(t.data=[],t.featuredProducts=[],$(".actNavCategory").removeClass("sel"),$(".tab-nav li div").first().addClass("sel"),i=0;i<=t.pageSize;i++)t.featuredProducts.push({ProductId:0,Description:""});t.featuredLarge={};t.featuredPoster="";t.featuredVideo="";n&&t.$apply()};var f=function(n,i){t.pageSize=Math.floor(n/251)*2;t.pageSize<6&&(t.pageSize=6);i&&t.$apply()},e=function(n){t.featuredProducts=n;$(".featured-panel").css("visibility","visible");$(".featured-panel").stop(!0,!0).animate({opacity:"1"},200)},o=function(n,i){if($("body").hasClass("integratedStore")){var f="sp/"+n+"/ipp/18",o={filter:f};r.getSetData(u[0].BaseUrl.preview,o).then(function(r){r.Error||(t.data.push({key:n,value:r.Products}),i&&t.initObjects(!1),e(r.Products))})}};t.selectGroup=function(n,i){$(".actNavCategory").removeClass("sel");$(n).addClass("sel");$(".featured-panel").stop(!0,!0).animate({opacity:".6"},200);t.activeProductType=i;var r=t.data.filter(function(n){return n.key==t.activeProductType});r.length==0?o(t.activeProductType):e(r[0].value)};s=n.$on("elementResized",function(n,t){t.element.hasClass("f-items")&&t.element.is(":visible")&&f(t.element.width(),!0)});t.$on("$destroy",s);angular.element(document).ready(function(){var n=$(".f-items").first().width();f(n);t.initObjects(!0);o(t.seasonal.activeProductType)})};n.controller("featureController",["$rootScope","$scope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){function u(n){return n.checked}n.modalList=[];n.title="";n.firstLetterSelected={checked:!0,letter:"abcde",name:"ABCDE"};n.Producers=[];n.orderByValue="key";var r=t.$on("modalListReady",function(t,i){n.title=i.title;n.orderByValue=i.orderByValue?"value":"key";n.title=="Producers"?(n.selectLetter({checked:!0,letter:"abcde",name:"ABCDE"}),n.modalList=i.modalList):(n.selectLetter({checked:!0,letter:"%",name:"%"}),n.modalList=i.modalList)});n.$on("$destroy",r);n.alpaMenu=i.getStaticList("alpha");n.selectMe=function(i){i.checked=!i.checked;n.selectedList=n.modalList.filter(u);t.$broadcast("ModalListSelected",{selectedList:n.selectedList,filterItem:i,add:i.checked})};n.selectLetter=function(t){$.each(n.alpaMenu,function(n,i){i.checked=t.letter.toUpperCase()==i.letter.toUpperCase()?!0:!1});n.firstLetterSelected=t;t.checked=!0}};n.controller("filtersModalController",["$scope","$rootScope","listService","producerService","dataFilterService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){function f(){toggleBodyCover(!0);i.getHistory().then(r,u)}function o(t){var i=window.open();i==null?(n.error.messages=["Please check your pop up blocker. Unable to display invoice."],showErrorMessage()):(hideMessage(),$(i.document.body).html(t))}var r,u,e;n.historyList=[];n.error={};n.info={};r=function(t){t.Error?(n.historyList=[],n.error.messages=t.ErrorMessages,showErrorMessage()):n.historyList=t;toggleBodyCover();toggleNoItemsMessage(n.historyList.length)};u=function(t){n.historyList=[];n.error.messages=t.ErrorMessages;showErrorMessage();toggleBodyCover();toggleNoItemsMessage(n.historyList.length)};n.goUrl=function(t){n.info.messages=["Retrieving Invoice."];showInfoMessage();i.viewInvoice(t,null).then(function(n){o(n)},function(n){console.log(n)})};n.ToJavaScriptDate=function(n){var i=/Date\(([^)]+)\)/.exec(n),t=new Date(parseFloat(i[1]));return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()};e=t.$on("updatedOrg",function(){f()});n.$on("$destroy",e);angular.element(document).ready(function(){f()})};n.controller("historyController",["$scope","$rootScope","historyService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.error={};n.download={};n.submit=function(){if(hideMessage(),n.download.email===undefined){n.error.messages=["email is required."];showErrorMessage();return}var i=function(t){hideMessage();t.Error===!0?(n.error.messages=t.ErrorMessages,showErrorMessage()):(hideMessage(),$("#fields").slideUp(250),$("#download").slideDown(250))},r=function(n){$("#errorMessage").html(n.responseText).slideDown(250);showErrorMessage()},u={email:n.download.email};t.getSetData("/component/iosbeta/",u).then(i,r)}};n.controller("iosBetaController",["$scope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u,f,e,u,o,s,h,c,l,a,v){function d(){s.itemData.selectedFilters=history.state.selectedFilters;v.setFiltersCookie();w();n.category=s.itemTitle();n.currentPage=s.itemData.selectedFilters.pg[0].value;t.$broadcast("filterRefresh");n.crumbData=e.getCrumbs();n.getPreviews()}function g(){$("#infoDiv").removeClass("hidden")}function ct(){e.getFilterValues().then(function(t){var r="",i;s.itemData.selectedFilters.s.length>0?r=s.itemData.selectedFilters.s[0].value:null;r?null:r="";i="";s.itemData.selectedFilters.g.length>0?i=s.itemData.selectedFilters.g[0].value:null;i?null:i="";n.searchTerms=r+i;n.crumbData=e.getCrumbs();n.greyIt(!0);n.productTypes=t.filter(function(n){return n.Key=="b"});n.availableFilters=t.filter(function(n){return n.Key!="b"});n.getPreviews()})}function lt(){n.pageloaded=!1;n.dataloaded=!1;n.previewData=[];n.currentPage=s.itemData.selectedFilters.pg[0].value;n.ippList=c.getStaticList("ipp");n.ipp=n.ippList[0];n.isMobileOdd=tt(n.ipp.value);var i=s.itemData.selectedFilters.ipp.length>0?s.itemData.selectedFilters.ipp[0]:{id:25},r=s.itemData.selectedFilters.o.length>0?s.itemData.selectedFilters.o[0]:{id:0};t.$broadcast("selectIpp",{item:i});t.$broadcast("selectOrder",{item:r})}function tt(n){return n%2>0}function p(){var n=b+"/"+s.filterUrl(),t={index:history.length,selectedFilters:s.itemData.selectedFilters};history.pushState(t,n,n)}function at(){var n=u.absUrl(),t={index:0,selectedFilters:s.itemData.selectedFilters};history.replaceState(t,n,n)}var k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),vt=/Mobi/.test(navigator.userAgent),y,w,b,ht,nt,it,rt,ut,ft,et,ot,st;n.isMobile=k||k;n.pageloaded=!1;window.onpopstate=function(){d()};s.itemData.selectedFilters=JSON.parse(v.getCookie("filters"));y=v.getUse();w=function(){y.searchTerm="";y.isSearch?y.searchTerm=s.itemData.selectedFilters.s[0].value:null;y.isTag?y.searchTerm=s.itemData.selectedFilters.g[0].id+"/"+s.itemData.selectedFilters.g[0].value:null;y.isProducer?y.searchTerm=s.producers():null};w();b="/media/filters";y.searchTerm.length>0?b+="/"+y.searchTerm:null;n.availableFilters=[];n.ippList=[];n.blurbText="Looking for a sermon illustration video to really drive your message home? Visuals increase retention by 42%, so using a sermon video is a smart way to make your message stick.";n.secondaryMenuList=c.getStaticList("media");n.more=!1;n.category=s.itemTitle();ht=angular.element(o);n.windowHeight=0;n.windowwidth=0;n.secondaryMenuList=c.getStaticList("media");n.dynamicOrderBy="-SalesCount";e.availableFilters.length==0?ct():(n.availableFilters=e.availableFilters,n.greyIt(!0),n.productTypes=n.availableFilters.filter(function(n){return n.Key?n.Key=="b":n.key=="b"}),n.availableFilters=n.availableFilters.filter(function(n){return n.Key?n.Key!="b":n.key!="b"}),n.getPreviews());n.setPageCount=function(){$("html,body").scrollTop(0);n.currentPage=1;s.itemData.selectedFilters.ipp=[];s.itemData.selectedFilters.ipp.push({key:"ipp",id:n.ipp.value,value:n.ipp.value});n.isMobileOdd=tt(n.ipp.value);p();n.getPreviews()};nt=t.$on("orderChanged",function(t,i){i.orderChanged&&(p(),n.currentPage=s.itemData.selectedFilters.pg[0].value,n.getPreviews())});n.$on("$destroy",nt);n.goNext=function(t){$(t.currentTarget).hasClass("disabled")||($("html,body").scrollTop(0),n.dataloaded=!1,n.greyIt(!0),n.currentPage=parseInt(n.currentPage)+1>n.numberOfPages?n.numberOfPages:parseInt(n.currentPage)+1,s.itemData.selectedFilters.pg=[],s.itemData.selectedFilters.pg.push({key:"pg",id:n.currentPage,value:n.currentPage}),n.more=n.currentPage>1?!0:!1,p(),n.getPreviews())};n.goPrev=function(t){$(t.currentTarget).hasClass("disabled")||(n.currentPage=parseInt(n.currentPage)-1<1?1:parseInt(n.currentPage)-1,$("html,body").scrollTop(0),n.dataloaded=!1,n.greyIt(!0),s.itemData.selectedFilters.pg=[],s.itemData.selectedFilters.pg.push({key:"pg",id:n.currentPage,value:n.currentPage}),n.more=n.currentPage>1?!0:!1,p(),n.getPreviews())};n.pageFirst=null;n.pageLast=null;n.pageval1=null;n.pageval2=null;n.pageval3=null;n.pageval4=null;n.pageval5=null;n.clearSearch=function(){e.clearSearch();n.searchTerms="";t.$broadcast("filtersUpdated",{resetCurrentPage:!0,pushState:!0})};n.clearAll=function(){t.$broadcast("clearAll");e.removeFilterKeys();t.$broadcast("filtersUpdated",{resetCurrentPage:!0,pushState:!0})};it=t.$on("searchTermsChanged",function(t,i){n.searchTerms=decodeURIComponent(i.searchTerms);n.getPreviews()});n.$on("$destroy",it);rt=t.$on("updatePreviews",function(){n.previewData=f.previewData;n.dataloaded=!0;n.previewData.Error&&(n.dataloaded=!0,n.previewData=[],g())});n.$on("$destroy",rt);ut=t.$on("filterSelected",function(){n.dataloaded=!1;t.$broadcast("filtersUpdated",{pushState:!0})});n.$on("$destroy",ut);ft=t.$on("ModalListSelected",function(i,r){r.add?e.addKey(r.filterItem):e.removeKey(r.filterItem);n.currentPage=s.itemData.selectedFilters.pg[0].value;t.$broadcast("filtersUpdated",{pushState:!0})});n.$on("$destroy",ft);et=t.$on("clearedFilters",function(i,r){e.clearKey(r.key);n.currentPage=s.itemData.selectedFilters.pg[0].value;t.$broadcast("filtersUpdated",{pushState:!0})});n.$on("$destroy",et);ot=t.$on("ippChanged",function(){p();n.getPreviews()});n.$on("$destroy",ot);st=t.$on("filtersUpdated",function(t,i){n.crumbData=e.getCrumbs();n.category=s.itemTitle();i&&(i.clearSearch&&(n.searchTerms=""),i.resetCurrentPage&&(s.itemData.setToPage1(),v.setFiltersCookie()),i.pushState&&p());n.currentPage=s.itemData.selectedFilters.pg[0].value;n.getPreviews()});n.$on("$destroy",st);n.toggleFilters=function(){$("#filterSidebar").hasClass("off")?(toggleBodyCover(!0),$("#filterSidebar").removeClass("off"),$("#filterSidebar").addClass("on"),$("#filterButton").html("Close")):($("#filterSidebar").removeClass("on"),$("#filterSidebar").addClass("off"),$("#filterButton").html("Filters"),toggleBodyCover())};n.getPreviews=function(){return n.greyIt(!0),f.getPreviews().then(function(t){t.Error?(n.dataloaded=!0,g(),n.previewData=[],n.greyIt(!1),n.numberOfPages=0,n.currentPage=s.itemData.selectedFilters.pg[0].value):(n.dataloaded=!0,n.greyIt(!1),n.previewData=t.Products,n.numberOfPages=t.LastPage,v.setFiltersCookie())},function(t){n.greyIt(!1);console.log(t)})};n.greyIt=function(n){var t=$("#thumbs").css("opacity")==".5";n?$("#thumbs").css("opacity",".5"):$("#thumbs").css("opacity","1")};angular.element(document).ready(function(){lt();n.pageloaded=!0;history.state==null?at():d()})};n.controller("itemsPageController",["$scope","$rootScope","$http","$filter","$location","dataService","dataFilterService","$location","$window","itemService","constants","listService","producerService","urlService","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){t.freshDesk={};var u=function(){r.setCookie("freshDesk",!0,1);t.freshDesk.url=="http://throwback.easyworship.com/support/home"?(r.deleteCookie("freshDesk"),$("#supportIframe").attr("src",t.freshDesk.url)):window.location.href=t.freshDesk.url+"&redirect_to="+t.freshDesk.host+"/legacy/"};angular.element(document).ready(function(){console.log(t.freshDesk.url);var n=r.getCookie("freshDesk");n==""?u():($("#supportIframe").attr("src","http://throwback.easyworship.com/support/home"),r.deleteCookie("freshDesk"))})};n.controller("legacyController",["$rootScope","$scope","$http","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){t.selectedSoftwareType={};var u=function(){toggleBodyCover(!0);r.getSoftwareLicense(null).then(function(n){t.showError=!1;toggleBodyCover();n.Error?(t.showError=!0,t.error.value=n.Error,t.error.messages=n.ErrorMessages,t.action=n.Action,t.bibleList=[],displayError()):(t.licenseData=n,t.selectedSoftwareType=n[0],t.registeredTo=i.selectedOrganization,toggleNoItemsMessage(t.licenseData.length))})},f=n.$on("updatedOrg",function(){u()});t.$on("$destroy",f);angular.element(document).ready(function(){u()})};n.controller("licenseController",["$rootScope","$scope","organizationService","licenseService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){n.error={};n.info={};n.user={};n.reset={};n.postingForm=!1;n.submitted=!1;var u=function(t){t.Success?(n.info.messages=["Email sent."],showInfoMessage(),n.cancelForgot()):(n.error.messages=t.ErrorMessages,showErrorMessage())},f=function(t){n.error.messages=t.ErrorMessages;showErrorMessage()};n.cancelForgot=function(n){n&&(n.preventDefault(),n.stopPropagation());$(".forgot_field_wrapper").addClass("hidden");$(".login_field_wrapper").removeClass("hidden")};n.passwordReset=function(){if(!$(".button.reset").hasClass("sent")){n.info.messages=["Sending email to reset password..."];showInfoMessage();var t={email:n.user.uid};i.getSetData("/component/SendPasswordResetRequest/",t).then(u,f)}};n.forgot=function(n){n&&(n.preventDefault(),n.stopPropagation());$(".forgot_field_wrapper").removeClass("hidden");$(".login_field_wrapper").addClass("hidden")};n.log_in=function(t){if(t.keyCode===13||t.button===0){var i={Username:n.user.uid,Password:n.user.pwd,Rememberme:n.user.rememberMe,InviteKey:n.user.inviteKey};n.info.messages=["Logging In."];showInfoMessage();r.login(i).then(function(t){t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):window.location.href=t.Url},function(){})}};n.resetPassword=function(t){if(t.keyCode===13||t.button===0){if(n.postingForm===!0)return;if(n.postingForm=!0,n.submitted=!0,!n.resetForm.$valid){n.postingForm=!1;return}n.info.messages=["Submitting Reset Request."];showInfoMessage();var r=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):window.location="/"},u=function(t){n.error.messages=[t];n.postingForm=!1;showErrorMessage()},f={Password:n.reset.password,PasswordVerify:n.reset.passwordVerify,PasswordResetKey:n.reset.resetKey};i.getSetData("/component/resetPassword",f).then(r,u)}}};n.controller("loginController",["$scope","$rootScope","dataService","userService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){n.trendingProducts=[];n.newProducts=[];n.seasonalProducts=[];n.loaded=!1;n.getData=function(r,u){switch(u){case"t":if(n.trendingProducts.length>0)return;break;case"n":if(n.newProducts.length>0)return;break;case"s":if(n.seasonalProducts.length>0)return;break;default:if(n.trendingProducts.length>0)return}var f="sp/"+r,e={filter:f};n.loaded=!1;t.getSetData(i[0].BaseUrl.preview,e).then(function(t){if(!t.Error){switch(u){case"t":n.trendingProducts=t.Products;break;case"n":n.newProducts=t.Products;break;case"s":n.seasonalProducts=t.Products;break;default:n.trendingProducts=t.Products}n.loaded=!0}},function(n){console.log(n)})};n.select_group=function(t){$("[target]").removeClass("sel");var i=$(t).attr("target");$("[target='"+i+"']").addClass("sel");switch(t){case"#new":n.getData("13","n");break;case"#seasonal":n.getData("8","s")}};angular.element(document).ready(function(){n.getData("13","n")})};n.controller("mediaPageController",["$scope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function u(){if(hideMessage(),r.orgList.length===0&&r.errors.length===0){r.getOrgs();return}r.errors.length>0?(n.error.messages=r.errors,showErrorMessage()):n.orgList=r.orgList.filter(function(n){return n.AccountType!==32})}var f,e;window.thescope=n;n.info={};n.error={};n.submitted=!1;n.postingForm=!1;n.orgList=[];n.newOrg={};n.invite={};n.currentAccountInviteId=0;n.displayAddOrgModal=function(){hideMessage();$("#orgModal").modal()};n.createOrganization=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.orgForm.$valid){n.postingForm=!1;return}n.info.messages=["Creating Organization"];showModalInfoMessage();r.newOrganization=n.newOrg;r.addOrg().then(function(t){n.postingForm=!1;n.submitted=!1;t.Error?(n.error.messages=t.ErrorMessages,showErrorMessage()):(n.newOrg={},n.orgForm.$setUntouched(),$("#orgModal").modal("hide"))})}};n.displayInviteModal=function(t){n.currentAccountInviteId=t.AccountId;hideMessage();$("#inviteModal").modal()};n.sendInvite=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.inviteForm.$valid){n.postingForm=!1;return}n.info.messages=["Sending Account Invitation."];showModalInfoMessage();var r=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showModalErrorMessage()):(n.submitted=!1,n.invite={},n.inviteForm.$setUntouched(),$("#inviteModal").modal("hide"))},u=function(t){n.error.messages=[t];showModalErrorMessage()},t={};t.email=n.invite.email;t.accountId=n.currentAccountInviteId;i.getSetData("/component/inviteUser",t).then(r,u)}};f=t.$on("updatedOrg",function(){u()});n.$on("$destroy",f);e=t.$on("orgListReady",function(){u()});n.$on("$destroy",e)};n.controller("organizationController",["$scope","$rootScope","dataService","organizationService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){n.plans={};n.subscriptions={};n.onetTime={};n.licensePrice=499;n.subscriptionIdIndex=1;n.subscriptionId={1:122612,2:125547};n.licenseId=87058;n.monthlySubscriptionPrice=18;n.annualSubscriptionPrice=180;n.buyNow=function(n){if($("body").hasClass("integratedStore")){window.location.href="/gui?action=quickbuy&detailId="+n;return}var t={};t.CartDetailId=n;i.cartIt(t,!0).then(function(){window.location.href="/checkout"})};var u=t.$on("itemSelected",function(t,i){switch(i.controlId){case"monthly":n.monthlySubscriptionPrice=i.item.priceMonthly;n.annualSubscriptionPrice=i.item.priceAnnual;n.subscriptionId=i.item.id;break;case"plan":$("#monthly").removeClass("show");$("#annual").removeClass("show");n.subscriptionIdIndex=i.item.id;n.plans.filter(function(){return});switch(i.item.id){case 1:$("#monthly").addClass("show");break;case 2:$("#annual").addClass("show")}break;case"once":n.licensePrice=i.item.price;n.licenseId=i.item.id}});n.$on("$destroy",u);n.broadcastClick=function(n){t.$broadcast("controllerclick",{event:n})};n.getPlans=function(){var t="",i;t="/component/GetSoftwareOptions";i=null;r.getSetData(t,i).then(function(t){t.Error||(n.plans=t)},function(){})};n.getPlans()};n.controller("pricingController",["$scope","$rootScope","cartService","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.footer={};n.showHamburgerMenu=function(){var n=$("#hamburgerMenu");toggleBodyCover(n.css("display")==="none");n.css("display")==="none"&&(n.slideDown(),$("#hamburgerIcon").removeClass("iconMedia-hamburger").addClass("iconMedia-hamburgerclose"))};n.closeGettingSmaller=!1;n.closeGettingLarger=!1;$(document).width()>=768?n.closeGettingSmaller=!0:n.closeGettingLarger=!0;var i=t.$on("elementResized",function(){var i=$("#bodyCover"),r=$(".body-content").height()+$(".footer-container").height()+40,t;i.css("height",r);t=$(document).width();i.css("display")==="block"&&(n.closeGettingLarger&&t>768&&(n.closeGettingLarger=!1,n.closeGettingSmaller=!0,toggleBodyCover()),n.closeGettingSmaller&&t<769&&(toggleBodyCover(),n.closeGettingLarger=!0,n.closeGettingSmaller=!1))});n.$on("$destroy",i);n.fadeMenuIn=function(){$(".jq-opacity-fade").stop(!0,!0).animate({opacity:".9"},200)};n.fadeMenuOut=function(){$(".jq-opacity-fade").stop(!0,!0).animate({opacity:".5"},200)}};n.controller("primaryMenuController",["$scope","$rootScope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.error={};n.info={};n.signup={};n.showSignup=function(){$("#signupModal").modal()};n.submitSignup=function(){if(n.postingForm!==!0){if(n.postingForm=!0,n.submitted=!0,!n.signupForm.$valid){n.postingForm=!1;return}n.info.messages=["Submitting Request"];showModalInfoMessage();var i=function(t){n.postingForm=!1;t.Error?(n.error.messages=t.ErrorMessages,showModalErrorMessage()):(n.submitted=!1,n.signup={},n.signupForm.$setUntouched(),$("#signupModal").modal("hide"))},r=function(t){n.postingForm=!1;n.error.messages=[t];showModalErrorMessage()},u=n.signup;t.getSetData("/component/producerSignup",u).then(i,r)}}};n.controller("producerController",["$scope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v;window.x=n;$("html,body").scrollTop(0);n.product={};n.product.purchasing=!1;n.moreByList=[];n.alsoAvailableList=[];n.favoriteMe=function(t,i){var r={};r.ProductId=t;o.setFavorites(r,!i);n.product.isFavorite=!i};n.showThumb=function(t){var i=c[0].BaseUrl.videoBase+t+".mp4";n.videoElm.attr("src",i);n.videoPoster=c[0].BaseUrl.previewImage_large+t+".jpg";n.videoElm.attr("controls","controls preload='auto'")};l=t.$on("moreByComplete",function(t,i){n.moreBy=i.moreBy;n.producerId=i.moreBy[0].ProducerId});n.$on("$destroy",l);a=t.$on("elementResized",function(t,i){n.calcNumOfItems(i.element.width(),!0)});n.$on("$destroy",a);n.calcNumOfItems=function(t,i){var r=$(".thumb-wrapper")[0].offsetWidth+10;n.pageSize=Math.floor(t/r)*2-1;n.pageSize<5&&(n.pageSize=5);i&&n.$apply();console.log("pageSize: "+n.pageSize)};n.playPause=function(){var u=c[0].BaseUrl.videoBase+n.product.productId+".mp4",i="#previewDetailVideo",t,r;n.videoSrc=u;console.log(navigator.userAgent);t=navigator.userAgent.indexOf("Safari")>0;r=navigator.userAgent.indexOf("Chrome")>0;console.log("is_chrome: "+r);t=!r&&t;console.log("is_safari: "+t);t||(console.log("paused: "+$(i)[0].paused),$(i)[0].paused?(console.log("Playing: "),$(i)[0].play()):$(i)[0].pause())};n.getAlsoAvailable=function(){var t="",i,r;t="/component/refreshview";i="aic/"+n.product.productId;r={filter:i};f.getSetData(t,r).then(function(t){t.Error||(n.alsoAvailableList=t.Products)},function(n){console.log(n)})};n.getMoreBy=function(){var t,i,r;n.calcNumOfItems($("#moreByItems").width());t="";t="/component/refreshview";i="/mb/1/b/9152/pr/"+n.product.producerId;r={filter:i};f.getSetData(t,r).then(function(t){t.Error||(n.moreBy=t.Products,$("#moreByItems").css("visibility")=="hidden"&&($("#moreByItems").css("visibility","visible"),$("#moreByItems").css("display","none")),$("#moreByItems").fadeIn())},function(n){console.log(n)})};n.tagSearch=function(n){s.itemData.tagsData=[];s.itemData.tagsData.push(n)};n.getTagsForProduct=function(){var t="",r;t="/component/GetTagsForProduct";r={productId:n.product.productId};i.post(t,r).success(function(t){return n.tags=t,!0}).error(function(){return null})};n.getDownloadItem=function(n){h.requestDownloadItem(n)};n.addToCart=function(){if(!$("#mediaBuyNowBtn").hasClass("stopNgClick")){if($("body").hasClass("integratedStore")){n.product.purchasing=!0;window.location.href="/gui?action=quickbuy&detailId="+n.product.CartDetailId;return}n.product.IsInCart?window.location.href="/checkout":e.cartIt(n.product,!0).then(function(){n.product.IsInCart=!0;n.tocart="Checkout"})}};v=t.$on("cartRemove",function(t,i){i.item.CartDetailId==n.product.CartDetailId&&(n.tocart=n.addToCartText,n.product.IsInCart=!1)});n.$on("$destroy",v);angular.element(document).ready(function(){n.videoPoster=c[0].BaseUrl.previewImage_large+n.product.productId+".jpg";n.videoElm=$("#previewDetailVideo");n.product.Type!=c[0].ProductType.Still&&n.product.Type!=c[0].ProductType.Collection?n.videoElm.attr("controls","controls preload='auto'"):n.videoElm.removeAttr("controls");var t="http://www.easyworship.com/media/"+n.product.TypeText+"/"+n.product.productId+"/"+n.product.Title;n.fbHref="https://www.facebook.com/sharer.php?u=";n.twHref="http://twitter.com/home?status=";n.mtHref="subject=Worship Media Content&body=";n.fbHref+=t;n.twHref+=n.product.TypeText+": "+n.product.Title+" at @EasyWorship "+t;n.mtHref+="Amazing content from EasyWoship Media : "+t;n.embed="<iframe type='text/html' width='415' height='311' src='https://www.easyworship.com/media/embed/product/"+n.product.productId+"' frameborder='0' scrolling='no'><\/iframe>";n.addToCartText="$"+parseFloat(n.product.CheckoutPrice).toFixed(2);n.addToCartText+=n.product.IsIntegratedStore?" | buy now":" | add to cart";n.tocart=n.product.IsInCart&&!n.product.IsIntegratedStore?"Checkout":n.addToCartText;n.getAlsoAvailable();n.getMoreBy();ClearHideTillReadyClass()})};n.controller("productController",["$scope","$rootScope","$http","$window","listService","dataService","cartService","favoritesService","itemService","downloadItemService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function e(){if(hideMessage(),i.orgList.length===0){i.getOrgs();return}n.contact=i.selectedOrganization.Contact}var u,f,o,s;n.info={};n.error={};n.submitted=!1;n.contact={};n.SaveContactInfo=function(){n.info=["Updating Profile Information."];showInfoMessage();r.updateContactInformation(n.contact.First,n.contact.Last).then(function(n){u(n)},function(n){f(n)})};u=function(t){t.Error?(n.error=t.ErrorMessages,showErrorMessage()):(n.info.messages=["Contact Information Updated"],showInfoMessage())};f=function(n){console.log(n)};o=t.$on("updatedOrg",function(){e()});n.$on("$destroy",o);s=t.$on("orgListReady",function(){e()});n.$on("$destroy",s)};n.controller("profileController",["$scope","$rootScope","organizationService","profileService",t])}(angular.module("softouch")),function(n){var t=function(n,t,r,u){var s;t.seasonal={};t.seasonal.activeProductType=u[0].ProductType.Minimovie;t.initObjects=function(n){for(t.data=[],t.featuredProducts=[],$(".actNavCategory").removeClass("sel"),$(".tab-nav li div").first().addClass("sel"),i=0;i<=t.pageSize;i++)t.featuredProducts.push({ProductId:0,Description:""});t.featuredLarge={};t.featuredPoster="";t.featuredVideo="";t.setViewAllUrl();n&&t.$apply()};var e=function(n,i){t.pageSize=Math.floor(n/251)*2;t.pageSize<6&&(t.pageSize=6);i&&t.$apply()},o=function(n){t.featuredProducts=n;$(".featured-panel").css("visibility","visible");$(".featured-panel").stop(!0,!0).animate({opacity:"1"},200)},f=function(n,i){var f="b/"+n+"/t/"+t.seasonal.seasonId+"/ipp/18",e={filter:f};r.getSetData(u[0].BaseUrl.preview,e).then(function(r){r.Error||(t.data.push({key:n,value:r.Products}),i&&t.initObjects(!1),o(r.Products))})};t.selectGroup=function(n,i){$(".actNavCategory").removeClass("sel");$(n).addClass("sel");$(".featured-panel").stop(!0,!0).animate({opacity:".6"},200);t.activeProductType=i;var r=t.data.filter(function(n){return n.key==t.activeProductType});r.length==0?f(t.activeProductType):o(r[0].value);t.setViewAllUrl()};t.setViewAllUrl=function(){t.viewAllUrl="/media/filters/b/"+t.seasonal.activeProductType+"/t/"+t.seasonal.seasonId};t.seasonChanged=function(){$(".featured-panel").stop(!0,!0).animate({opacity:".6"},200);f(t.seasonal.activeProductType,!0)};s=n.$on("elementResized",function(n,t){t.element.hasClass("f-items")&&t.element.is(":visible")&&e(t.element.width(),!0)});t.$on("$destroy",s);angular.element(document).ready(function(){var n=$(".f-items").first().width();e(n);t.initObjects(!0);f(t.seasonal.activeProductType)})};n.controller("seasonalController",["$rootScope","$scope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){window.x=t;t.search={};t.search.phrase="";t.search.categories=r.getStaticList("search");t.search.selectedCategory=t.search.categories[0];t.closeGettingSmaller=!1;t.closeGettingLarger=!1;$(document).width()>=993?t.closeGettingSmaller=!0:t.closeGettingLarger=!0;var u=i.$on("elementResized",function(){var i=$("#bodyCover"),r=$(".body-content").height()+$(".footer-container").height()+40,n;i.css("height",r);n=$(document).width();i.css("display")==="block"&&(t.closeGettingLarger&&n>992&&(t.closeGettingLarger=!1,t.closeGettingSmaller=!0,toggleBodyCover()),t.closeGettingSmaller&&n<993&&(toggleBodyCover(),t.closeGettingLarger=!0,t.closeGettingSmaller=!1))});t.$on("$destroy",u);t.toggleMiniSubMenu=function(){var n=$("#miniSubMenu");toggleBodyCover(n.css("display")==="none");n.css("display")==="none"&&(n.slideDown(),$("#mobileDownGlyph").css({transform:"rotate(-180deg)"}))};t.toggleSearch=function(){var t=$("#searchContainer"),n=t.css("display")==="none";toggleBodyCover(n);n&&($("#searchContainer").toggle(),$("#menuItemContainer").toggle(),$("#secondary-search-close").toggle(),$("#secondary-search-open").toggle(),$(document).width()>=992&&$("#search-input").focus())};t.keysearch=function(n){n!=undefined?(n.which===13&&(window.location.href="/media/search/"+t.search.phrase),n.which===27&&t.toggleSearch()):window.location.href="/media/search/"+t.search.phrase}};n.controller("secondaryMenuController",["$location","$scope","$rootScope","listService",t])}(angular.module("softouch")),function(n){var t=function(n,t){n.mediaSignup=function(){t.getSetData("/component/mediaSignup",{email:n.footer.email}).then(function(){n.footer.email="";$("#signupDiv").addClass("hide");$("#signupLabel").removeClass("hide").addClass("show")})}};n.controller("signUpController",["$scope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){var r,u,f;window.x=t;t.error={};t.info={};t.currentSubscription={};t.payment={};t.card={};t.address={};t.payment.selectedCard=0;r=function(){var n=t.pageData.RenewalOptions.filter(function(n){return n.CartDetailId==t.pageData.CurrentSubscription.RenewalDetailId});t.pageData.renewalProduct=n.length!==0?n[0]:t.pageData.RenewalOptions[0]};u=function(){toggleBodyCover(!0);i.getSetData("/component/getsubscription").then(function(n){toggleBodyCover();n.Error?(t.error.messages=n.ErrorMessages,showErrorMessage()):(t.pageData=n,r(),toggleNoItemsMessage(t.pageData.CurrentSubscription.CurrentDetailId))})};t.cancelSubscription=function(){var n=window.confirm("Are you sure you want to cancel your subscription?");n&&(t.info.messages=["Canceling subscription..."],showInfoMessage(),i.getSetData("/component/cancelsubscription").then(function(n){toggleBodyCover();n.Error?(t.error.messages=n.ErrorMessages,showErrorMessage()):(hideMessage(),t.pageData=n,r())}))};t.displayPackageOptionsModal=function(){hideMessage();$("#PackageOptionsModal").modal()};t.ChangeSubscriptionPackage=function(){var n={detailId:t.pageData.renewalProduct.CartDetailId};t.info.messages=["Changing package..."];showModalInfoMessage();i.getSetData("/component/ChangeSubscriptionRenewalItem",n).then(function(n){toggleBodyCover();n.Error?(t.error.messages=n.ErrorMessages,showModalErrorMessage()):(t.pageData=n,r(),$("#PackageOptionsModal").modal("hide"))})};t.restartSubscription=function(){toggleBodyCover(!0);var n={detailId:t.pageData.restartProduct.CartDetailId};t.info.messages=["Restarting subscription..."];showModalInfoMessage();i.getSetData("/component/restartSubscription",n).then(function(n){toggleBodyCover();n.Error?(t.error.messages=n.ErrorMessages,showErrorMessage()):(t.pageData=n,r())})};t.showPaymentModal=function(){hideMessage();$("#paymentModal").modal()};t.ChangePaymentMethod=function(){if(t.submitted=!0,t.ChangePaymentForm.$valid){t.info.messages=["Updating payment method."];showModalInfoMessage();var n={};t.card.NewBillingAddress=t.address;n.NewCreditCard=t.card;n.selectedCardId=t.payment.selectedCard;i.getSetData("/component/ChangeSubscriptionPayment",n).then(function(n){toggleBodyCover();n.Error?(t.error.messages=n.ErrorMessages,showModalErrorMessage()):(t.pageData=n,r(),$("#paymentModal").modal("hide"))})}};f=n.$on("updatedOrg",function(){u()});t.$on("$destroy",f);angular.element(document).ready(function(){u()})};n.controller("subscriptionController",["$rootScope","$scope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u){t.freshDesk={};var f="",e=r.absUrl().toUpperCase(),o=function(){u.setCookie("freshDesk",!0,1);switch(t.freshDesk.url){case"https://support.easyworship.com/support/home":u.deleteCookie("freshDesk");$("#supportIframe").attr("src",t.freshDesk.url);break;case"https://support.easyworship.com/support/tickets/new":u.deleteCookie("freshDesk");$("#supportIframe").attr("src",t.freshDesk.url);break;default:var n=e.toUpperCase().indexOf("/SUPPORT/SUBMITATICKET");n>0&&(f="/support/submitAticket");n=e.toUpperCase().indexOf("/SUPPORT/HOME");n>0&&(f="/support/home");window.location.href=t.freshDesk.url+"&redirect_to="+t.freshDesk.host+f}};angular.element(document).ready(function(){var i,n;console.log(t.freshDesk.url);i=u.getCookie("freshDesk");i==""?o():(n=e.toUpperCase().indexOf("/SUPPORT/"),n>0&&(f="/support/home"),n=e.toUpperCase().indexOf("/SUPPORT/SUBMITATICKET"),n>0&&(f="/support/tickets/new"),$("#supportIframe").attr("src","https://support.easyworship.com"+f),u.deleteCookie("freshDesk"))})};n.controller("supportController",["$rootScope","$scope","$http","$location","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){n.tabPrefix="figure";n.activeTab=1;n.maxTabs=$("figure").length;n.download={};n.download.signup=!0;n.error={};n.select_group=function(t){$("[target]").removeClass("sel");$("[target='"+n.tabPrefix+t+"']").addClass("sel");n.activeTab=parseFloat(t)};n.select_next=function(){n.activeTab+1>n.maxTabs?n.activeTab=1:n.activeTab+=1;$("[target]").removeClass("sel");$("[target='"+n.tabPrefix+n.activeTab+"']").addClass("sel")};n.select_previous=function(){n.activeTab-1<1?n.activeTab=n.maxTabs:n.activeTab-=1;$("[target]").removeClass("sel");$("[target='"+n.tabPrefix+n.activeTab+"']").addClass("sel")};n.submit=function(){var i,r,u,f;if(hideMessage(),n.download.signup&&n.download.email===undefined){n.error.messages=["Please fill in all fields."];showErrorMessage();return}i=function(t){hideMessage();t.Error===!0?(n.error.messages=t.ErrorMessages,showErrorMessage()):(hideMessage(),$("#fields").slideUp(250),$("#download").slideDown(250),n.downloadDemo())};r=function(n){$("#errorMessage").html(n.responseText).slideDown(250);showErrorMessage()};n.download.signup?(u="/component/testdrive/",f={email:n.download.email},t.getSetData(u,f).then(i,r)):n.downloadDemo()};n.downloadDemo=function(){window.location.href=i[0].BaseUrl.softwareDownload}};n.controller("testdriveController",["$scope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){t.freshDesk={};var u=function(){r.setCookie("freshDesk",!0,1);$("#supportIframe").attr("src",t.freshDesk.url)};angular.element(document).ready(function(){console.log(t.freshDesk.url);var n=r.getCookie("freshDesk");n==""?u():($("#supportIframe").attr("src","http://training.easyworship.com/support/home"),r.deleteCookie("freshDesk"))})};n.controller("trainingController",["$rootScope","$scope","$http","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.activate=function(t){return n.getSetData("/component/ActivateProductKey",t).then(function(n){return n},function(n){return n.data})},t};n.factory("activationService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.bibleData=[],t.getBibles=function(){return n.getSetData("/component/refreshView",{filter:"b/48/ipp/1000"}).then(function(n){return t.bibleData=n.Products,t.bibleData},function(n){return n.data})},t};n.factory("bibleService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={},i,r;return t.cardData=[],t.selectedCard={},t.newCardRequired=!1,t.error=!1,t.messages=[],t.action=null,t.getCards=function(){return n.getSetData("/component/GetCards",null).then(function(n){return t.cardData=n,t.cardData.length==0?(t.newCardRequired=!0,t.selectedCard=t.cardData[0]):(t.selectedCard=t.cardData[0],t.newCardRequired=!1),t.cardData},function(n){return n.data})},t.remove=function(u){return u?(t.cardId={cardId:u.RowId},t.setCard(u.CardGuid),n.getSetData("/component/DeleteCard",t.cardId).then(i,r)):null},i=function(n){n.Error?(t.error=n.Error,t.error.messages=n.ErrorMessages,t.action=n.Action,t.cardData=[]):t.cardData=t.cardData.filter(function(n){return n.CardGuid!=t.selectedCard.CardGuid})},r=function(){},t.setCard=function(n){t.selectedCard=t.cardData.filter(function(t){return t.CardGuid===n});t.selectedCard=t.selectedCard.length>=1?t.selectedCard[0]:{};console.log(t.selectedCard)},t.addNewCard=function(t){return n.getSetData("/component/AddCard",t).then(function(n){return n},function(n){return n})},t.clear=function(){t.cardData=[];t.selectedCard={}},t};n.factory("cardService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){var i={},r,u;return i.cartData=[],i.getCartItems=function(){return t.getSetData("/component/GetCartItems/",null).then(function(t){return i.cartData=t,n.$broadcast("cartListReady",{cartList:i.cartData}),i.cartData},function(n){return n.data})},i.setCartData=function(n){i.cartData=n},i.containSoftware=function(){var n=i.cartData.filter(function(n){return n.Type==1});return n.length>0?!0:!1},i.clear=function(){i.cartData=[];n.$broadcast("cartListReady",{cartList:i.cartData})},i.SyncCartWithNewAccount=function(r){var u={accountId:r};return t.getSetData("/component/SyncCartWithNewAccount/",u).then(function(t){return i.cartData=t,n.$broadcast("cartListReady",{cartList:i.cartData}),i.cartData},function(n){return n.data})},i.cartIt=function(n,f){var e="",o;return e=f?"/component/additemtocart":"/component/removeitemfromcart",o={DetailID:n.CartDetailId},t.getSetData(e,o).then(function(t){return r(f,n,t),i.cartData=t,i.cartData},function(n){u(n)})},r=function(t,r,u){t?(i.cartData=u,n.$broadcast("cartListReady",{cartList:i.cartData}),n.$broadcast("cartAdd",{item:r})):(i.cartData=u,n.$broadcast("cartListReady",{cartList:i.cartData}),n.$broadcast("cartRemove",{item:r}));$("html,body").scrollTop(0);$(".cart-dropdown-content").stop();$(".cart-dropdown-content").fadeIn("fast").fadeOut(3e3)},u=function(t){n.$broadcast("cartAddRemoveFailed",{Error:t})},i};n.factory("cartService",["$rootScope","dataService",t])}(angular.module("softouch")),function(n){n.constant("constants",[{SermonVideoUrlVal:"SERMONVIDEOS",BackrgoundUrlVal:"MOTION-BACKGROUNDS",CollectionUrlVal:"COLLECTIONS",CountdownsUrlVal:"COUNTDOWNS",searchUrlVal:"SEARCH",tagUrlVal:"TAG",producerUrlVal:"PRODUCER",orderUrlVal:"O",ippUrlVal:"IPP",pageUrlVal:"PG",searchFilterUrlVal:"S",tagFilterUrlVal:"G",producerFilterUrlVal:"PR",durationUrlVal:"D",priceUrlVal:"PB",qualityUrlVal:"Q",colorUrlVal:"C",topicUrlVal:"T",productTypeUrlVal:"B",BASE_HTTP:"http://www.easyworship.com/",BASE_DESCRIPTION:'content = "WorshipMedia is your resource for church media: sermon illustration videos, motion backgrounds, worship intro videos, and 5-minute church countdowns."',OG_IMAGE:'content = "https://easyworship.com/Images/FB.png"',OG_IMAGE_TYPE:'content = "image/png"',OG_IMAGE_WIDTH:'content = "200"',OG_IMAGE_HEIGHT:'content = "200"',OG_IMAGE_TITLE:'content = "EasyWorship.com, your church media creative resource for sermon illustration videos, motion backgrounds, and more."',VideoQualities:[{code:"LD240",id:1,text:"Low Quality"},{code:"SD480",id:2,text:"SD 480p"},{code:"HD720",id:4,text:"HD 720p"},{code:"HD1080",id:8,text:"HD 1080p"}],BaseUrl:{translate:"/component/translateurl",preview:"/component/refreshview",sort:"/component/sortoptions",filters:"/component/availablefilters",media:"/downloads",home:"/",mediaDownloads:"/component/GetDownloads",downloadItem:"/component/Download",items:"/component/refreshview",favorites:{get:"/component/GetFavorites",add:"/component/AddItemToFavorites",remove:"/component/RemoveItemFromFavorites"},previewImage_thumbnails:"https://static1.easyworship.com/previews/images/thumbnails/",previewImage_large:"https://static5.easyworship.com/previews/images/large/",videoBase:"http://static5.easyworship.com/previews/videos/flash/",softwareDownload:"http://easyworship.com/downloads/ew_builds/current/EasyWorship_web.zip"},ActInfo:{LoginUrl:"/component/userinfo?website=2",LogoutUrl:"/component/logout",LoginAJSurl:"/account/login",postLogin:"/component/login",create:"/component/signup"},ProductType:{FreeBible:16,PaidBible:32,AllBibles:48,Collection:512,Countdown:8192,Training:16384,AllVideos:8576,DownloadableMedia:9201,AllMedia:74688,Minimovie:256,WorshipTrack:131072,Motion:128,Still:64,Software:1,Demo:2,Disk:4,Handling:8,ServiceFee:1024,Credit:4096,WorshipTracks:65536},FeatureType:{Motions:1,Mini:2,Collections:3,Countdowns:4,Stills:5}}])}(angular.module("softouch")),function(n){var t=function(n,t,i){var r={};return r.useCookie="filters",r.getCookie=function(n){for(var r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""},r.getAllCookies=function(){return allCookies=document.cookie},r.deleteCookie=function(n){document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},r.getUse=function(){var r=i.absUrl().toUpperCase(),t={},n="/MEDIA/COUNTDOWNS",a=r.toUpperCase().indexOf(n),o,s,h,c,u,f,e,l;return a>0&&(t.useCookie="countdowns"),n="/MEDIA/FILTERS",o=r.toUpperCase().indexOf(n),o>0&&(t.useCookie="filters"),n="/MEDIA/SERMONVIDEOS",s=r.toUpperCase().indexOf(n),s>0&&(t.useCookie="sermonvideos"),n="/MEDIA/MOTION-BACKGROUNDS",h=r.toUpperCase().indexOf(n),h>0&&(t.useCookie="motion-backgrounds"),n="/MEDIA/COLLECTIONS",c=r.toUpperCase().indexOf(n),c>0&&(t.useCookie="collections"),n="/MEDIA/SEARCH",u=r.toUpperCase().indexOf(n),u>0&&(t.useCookie="search"),n="/MEDIA/TAG",f=r.toUpperCase().indexOf(n),f>0&&(t.useCookie="tag"),n="/MEDIA/PRODUCER",e=r.toUpperCase().indexOf(n),e>0&&(t.useCookie="producer"),n="/MEDIA/STILLS",l=r.toUpperCase().indexOf(n),l>0&&(t.useCookie="stills"),t.isSearch=u>0,t.isTag=f>0,t.isProducer=e>0,t},r.setCookie=function(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"},r.setFiltersCookie=function(){var n=JSON.stringify(t.itemData.selectedFilters);r.setCookie("filters",n,1)},r.userCookie=function(){return getCookie("username")},r.cookieEnabled=function(){},navigator.cookieEnabled==0&&alert("You need to enable cookies for this site to load properly!"),r};n.factory("cookieService",["dataService","itemService","$location",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.creditData=[],t.availableCredit=0,t.getcredits=function(){return n.getSetData("/component/AvailableCredits",null).then(function(n){return t.creditData=n,t.availableCredit=t.creditData.AvailableCredit,t.creditData},function(n){return n.data})},t};n.factory("creditService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r){function o(n,t){var i=n.filter(function(n){return n.id!=t.id});return i.length==0&&(i=[]),i}var u={},f,e;return u.availableFilters=[],u.filters=[],u.selectedList=[],u.getFilterValues=function(){return u.availableFilters.length==0?n.getSetData(t[0].BaseUrl.filters,null).then(f,e):u.availableFilters},f=function(n){return u.availableFilters=n,u.availableFilters},e=function(){},u.clearSearch=function(){r.itemData.selectedFilters.s=[];r.itemData.selectedFilters.g=[]},u.removeKey=function(n){switch(n.key){default:r.itemData.selectedFilters[n.key]=o(r.itemData.selectedFilters[n.key],n)}},u.removeAllKeys=function(){r.initFilters()},u.removeFilterKeys=function(){r.removeFilterKeys()},u.clearKey=function(n){r.itemData.selectedFilters[n]=[]},u.addKey=function(n){r.itemData.selectedFilters[n.key]===null?r.itemData.selectedFilters[n.key]=[]:null;var t=r.itemData.selectedFilters[n.key].filter(function(t){return t.id==n.id}).length>0;n.checked=!0;t?null:r.itemData.selectedFilters[n.key].push(n)},u.getCrumbs=function(){var n=[];return $.each(r.itemData.selectedFilters,function(t,i){var u=r.itemData.selectedFilters[t];i.length>0&&(n=n.concat(i),n=n.filter(function(n){var t=!0;switch(n.key){case"pg":t=!1;break;case"s":t=!1;break;case"o":t=!1;break;case"ipp":t=!1;break;case"b":t=!1;break;case"g":t=!1;break;case"":t=!1}return t}))}),$.each(n,function(n,t){t.checked=!0}),n},u};n.factory("dataFilterService",["dataService","constants","$rootScope","itemService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u,f,e){var o={},s,h;return o.trendingItems=[],o.newItems=[],o.staffItems=[],o.seasonalItems=[],o.alsoLikeItems=[],o.previewData=[],o.CurrentPage=1,o.TotalPages=1,o.order="popular",o.hasNext=!1,o.hasPrev=!1,o.hasLast=!1,o.hasFirst=!1,o.paginationData=[],o.user={loggedIn:!1,needsToLogin:!0,salutation:"",orgList:[],cartList:[]},o.searchTerms="",o.search_str="",o.category="all-media",o.producer_str="",o.hackLastFilterRequest="",o.filter_str="",s=function(n){return n.data.error?[]:n.data},h=function(n){return t.reject("http status: "+n.status+" : "+n.data)},o.getSetData=function(t,i){var r=AppendGuidIfAvailable(t);return i===null&&(i={}),n({method:"post",url:r,data:i}).then(s).catch(h)},o.submitForm=function(t,i){return i===null&&(i={}),n({method:"post",url:t,data:i}).then(s).catch(h)},o.getPreviews=function(){return postUrl=f[0].BaseUrl.preview,postData={filter:e.filterUrl()},n({method:"post",url:postUrl,data:postData}).then(s).catch(h)},o.translateUrl=function(){return postUrl=f[0].BaseUrl.translate,postData={url:u.absUrl()},n({method:"post",url:postUrl,data:postData}).then(s).catch(h)},o.parsePagination=function(n){var t,i,r,u;for(o.paginationData=[],t=0,i=0,n.CurrentPage===1&&n.CurrentPage<=5?(t=1,i=5):(t=n.CurrentPage-2,i=t+5),o.TotalPages-4-n.CurrentPage<0&&(t=o.TotalPages-5,i=t+5),t=t<1?1:t,i=i>o.TotalPages?o.TotalPages:i,o.hasLast=o.CurrentPage<=o.TotalPages-5?!0:!1,o.hasFirst=o.CurrentPage>=5?!0:!1,r=t;r<=i;r++)u="",u=r===n.CurrentPage?"active":"",o.paginationData.push({active:u,pageNumber:r})},o.itemsPerPage_str=function(){return"ipp/"+o.itemsPerPage},o.pageNumber_str=function(){return"p/"+o.CurrentPage},o.order_str=function(){return"o/"+o.order},o};n.factory("dataService",["$http","$q","$interval","$rootScope","$location","constants","itemService",t])}(angular.module("softouch")),function(n){var t=function(n,t){var i={};return i.requestDownloadItem=function(i){var r={productId:i};t.getSetData("/component/GetDownloadProduct",r).then(function(t){t.length==0||n.$broadcast("downloadItemSet",{item:t})})},i};n.factory("downloadItemService",["$rootScope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){var r={};return r.downloadsData=[],r.getDownLoads=function(){var u=null;return u=n.guestToken!==undefined&&n.guestToken!==""?{Token:n.guestToken}:null,t.getSetData(i[0].BaseUrl.mediaDownloads,u).then(function(n){return r.downloadsData=n,r.downloadsData},function(n){return n.data})},r};n.factory("downloadsService",["$rootScope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n,t,i){function o(t,i){t?(e(i),n.$broadcast("favorite",{item:i})):(f(i),n.$broadcast("unfavorite",{item:i}))}var r={},u,f,e;return r.favoritesData=[],u={},r.getFavorites=function(){return t.getSetData(i[0].BaseUrl.favorites.get,null).then(function(n){return r.favoritesData=n,r.favoritesData},function(n){return n.data})},r.setFavorites=function(n,r){var f=r?i[0].BaseUrl.favorites.add:i[0].BaseUrl.favorites.remove;return u={productId:n.ProductId},t.getSetData(f,u).then(o(r,n)),function(n){return n.data}},f=function(n){var t=r.favoritesData.indexOf(n);t!=-1&&r.favoritesData.splice(t,1)},e=function(n){r.favoritesData.push(n)},r};n.factory("favoritesService",["$rootScope","dataService","constants",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.historyData=[],t.getHistory=function(i){var r={accountGuid:i};return n.getSetData("/component/GetOrderHistory",r).then(function(n){return t.historyData=n,t.historyData},function(n){return n.data})},t.viewInvoice=function(i,r){var u={invoiceId:i,Token:r};return n.getSetData("/component/ViewInvoice",u).then(function(n){return t.invoiceHtml=n,t.invoiceHtml},function(n){return n.data})},t};n.factory("historyService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.supportData=[],t.accountId={},t.email={},t.accountId.value="",t.email.value="",t.inviteKey="",t.submitRequest=function(){var i={accountId:t.accountId.value,email:t.email.value};return n.getSetData("/component/InviteUser",i).then(function(n){return t.supportData=n,t.supportData},function(n){return n.data})},t};n.factory("inviteService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(){function t(n){if(n){var t="";return $.each(n,function(n,i){t+="-"+i.id}),t=t?t.substring(1,t.length):n}}var n={};return n.searchCategoryObj={},n.itemData=[],n.itemData.tagsData=[],n.itemData.producerName="",n.itemData.selectedFilters={b:[],s:[],pr:[],prs:[],ipp:[],p:[],pg:[],o:[],q:[],co:[],t:[],v:[],d:[],pb:[],g:[],l:[]},n.itemData.setToPage1=function(){n.itemData.selectedFilters.pg=[];n.itemData.selectedFilters.pg.push({id:1,key:"pg",value:1})},n.filtersInitialized=!1,n.initFilters=function(){n.itemData.tagsData=[];n.itemData.selectedFilters={b:[],s:[],pr:[],prs:[],ipp:[],p:[],pg:[],o:[],q:[],co:[],t:[],v:[],d:[],pb:[],g:[],l:[]};n.filtersInitialized=!0},n.removeFilterKeys=function(){n.itemData.selectedFilters.pr=[];n.itemData.selectedFilters.prs=[];n.itemData.selectedFilters.p=[];n.itemData.selectedFilters.q=[];n.itemData.selectedFilters.co=[];n.itemData.selectedFilters.t=[];n.itemData.selectedFilters.d=[];n.itemData.selectedFilters.pb=[];n.itemData.selectedFilters.l=[]},n.removeFilterKey=function(t){var r=n.itemData.selectedFilters[t.key],i=r.filter(function(n){return n.id!=t.id});i.length==0&&(i=[]);n.itemData.selectedFilters[t.key]=i;return},n.topics=function(){return t(n.itemData.selectedFilters.t)},n.itemTitle=function(){var t,i;if(n.itemData.selectedFilters.b.length>2)return"Media";switch(n.itemData.selectedFilters.b.length){case 0:return"All Media";case 1:return n.itemData.selectedFilters.b[0].value;case 2:return t=parseInt(n.itemData.selectedFilters.b[0].id)+parseInt(n.itemData.selectedFilters.b[1].id),i=(t&192)==192,i?"Backgrounds":"Media";default:return"Media"}n.itemData.selectedFilters.b?null:null},n.producers=function(){var i=n.itemData.selectedFilters.pr;return i.constructor.toString().indexOf("Array")==-1?n.itemData.selectedFilters.pr:t(n.itemData.selectedFilters.pr)},n.prices=function(){return t(n.itemData.selectedFilters.pb)},n.colors=function(){return t(n.itemData.selectedFilters.co)},n.durations=function(){return t(n.itemData.selectedFilters.d)},n.quality=function(){return t(n.itemData.selectedFilters.q)},n.tags=function(){return t(n.itemData.tagsData)},n.searchString=function(){return t(n.itemData.selectedFilters.s)},n.languages=function(){return t(n.itemData.selectedFilters.l)},n.searchType=function(){return n.itemData.selectedFilters.s.length>0?"Search":n.itemData.selectedFilters.g.length>0?"Tag":""},n.arrayParse=function(i){var r=n.itemData.selectedFilters[i];return t(r)},n.filterUrl=function(){var i="",r=0,t="";return $.each(n.itemData.selectedFilters,function(u){var f=n.itemData.selectedFilters[u];f.length>0&&(i+=f[0].key+"/",$.each(f,function(n,i){if(f[0].key=="b")r+=parseInt(i.id);else if(n==f.length-1)switch(f[0].key){case"s":t+=i.value;break;default:t+=i.id}else t+=i.id+"-"}),r>0&&(i+=r+"/",r=0),t!=""&&(i+=t+"/",t=""))}),i},n.availableFilters=[],n.categoryName="",n.url="",n};n.factory("itemService",["$rootScope","constants",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.licenseData=[],t.getSoftwareLicense=function(i){return n.getSetData("/component/GetSoftwareLicense",i).then(function(n){return t.licenseData=n,t.licenseData},function(n){return n.data})},t};n.factory("licenseService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(){function t(){return[{name:"Top Producers",letter:"TOP",checked:!0},{name:"#",letter:"#",checked:!0},{name:"ABCDE",letter:"ABCDE",checked:!0},{name:"FGHIJ",letter:"FGHIJ",checked:!1},{name:"KLMNO",letter:"KLMNO",checked:!1},{name:"PQRST",letter:"PQRST",checked:!1},{name:"UVWXYZ",letter:"UVWXYZ",checked:!1}]}function i(){return[{Name:"GENERAL",id:0},{Name:"OTHER",id:1},{Name:"ORDER",id:2},{Name:"TECHNICAL",id:3}]}function r(){return[{checked:!1,id:256,Name:"Sermon Videos",url:"media/sermonvideos/"},{checked:!1,id:128,Name:"Motion Backgrounds",url:"media/motion-backgrounds/"},{checked:!1,id:8192,Name:"Countdowns",url:"media/countdowns/"},{checked:!1,id:512,Name:"Collections",url:"media/collections/"},{checked:!1,id:64,Name:"Stills",url:"media/stills/"},{checked:!1,id:0,Name:"Seasonal",url:"seasonal/"}]}function u(){return[{Name:"Overview",url:"software/overview",id:0},{Name:"Features",url:"software/features",id:1},{Name:"Pricing",url:"software/pricing",id:2},{Name:"Bibles",url:"software/bibles",id:2},{Name:"System Requirements",url:"software/system",id:3}]}function f(){return[{Name:"Media Downloads",url:"/account/downloads",id:0},{Name:"Software Licenses",url:"/account/licenses",id:0},{Name:"Credit Cards",url:"/account/cards",id:1},{Name:"Order History",url:"/account/history",id:2},{Name:"Contact Info",url:"/account/contactinfo",id:2},{Name:"Favorites",url:"/account/favorites",id:3},{Name:"Organizations",url:"/account/organizations",id:4}]}function e(){return[{Name:"25",key:"ipp",id:25,value:25},{Name:"50",key:"ipp",id:50,value:50},{Name:"75",key:"ipp",id:75,value:75},{Name:"100",key:"ipp",id:100,value:100}]}function o(){return[{checked:!1,id:1,name:"Annual Plan, paid monthly",value:"Annual Plan, paid monthly",url:""},{checked:!1,id:2,name:"Annual Plan, paid in full",value:"Annual Plan, paid in full",url:""}]}function s(){return[{checked:!1,id:87058,name:"Site License",value:"Site License",price:499,url:""},{checked:!1,id:87060,name:"Single License",price:399,value:"Single License",url:""}]}function h(){return[{checked:!1,id:{1:122612,2:125547},name:"1-99 Members",value:"1-99",priceMonthly:18,priceAnnual:180,url:""},{checked:!1,id:{1:87057,2:125545},name:"100-199 Members",value:"100-199",priceMonthly:21,priceAnnual:210,url:""},{checked:!1,id:{1:87059,2:125546},name:"200-499 Members",value:"200-499",priceMonthly:24,priceAnnual:240,url:""},{checked:!1,id:{1:125542,2:125548},name:"500-999 Members",value:"500-999",priceMonthly:27,priceAnnual:270,url:""},{checked:!1,id:{1:125543,2:125544},name:"1000+ Members",value:"1000+",priceMonthly:30,priceAnnual:300,url:""}]}function c(){return[{checked:!0,id:9152,Name:"All Media",url:"all-media"},{checked:!1,id:256,Name:"Sermon Videos",url:"sermonvideos"},{checked:!1,id:128,Name:"Motions",url:"motion-backgrounds"},{checked:!1,id:8192,Name:"Countdowns",url:"countdowns"},{checked:!1,id:512,Name:"Collections",url:"collections"},{checked:!1,id:64,Name:"Stills",url:"stills"}]}function l(){return[{checked:!0,id:9152,Name:"All Media",url:"all-media"},{checked:!1,id:65536,Name:"Worship Tracks",url:"worshiptracks"},{checked:!1,id:256,Name:"Sermon Videos",url:"mini-movies"},{checked:!1,id:128,Name:"Backgrounds",url:"motion-backgrounds"},{checked:!1,id:8192,Name:"Countdowns",url:"countdowns"},{checked:!1,id:512,Name:"Collections",url:"collections"}]}function a(){return[{id:0,checked:!0,Name:"Popular",url:null},{id:1,checked:!1,Name:"New",url:null},{id:2,checked:!1,Name:"Price Low to High",url:null},{id:3,checked:!1,Name:"Price High to Low",url:null}]}function v(){return[{Path:"/account/downloads",Name:"Media Downloads"},{Path:"/account/cards",Name:"Credit Cards"},{Path:"/account/history",Name:"Order History"},{Path:"/account/contactInfo",Name:"Contact Info"},{Path:"/account/favorites",Name:"Favorites"},{Path:"/account/licenses",Name:"Licenses"},{Path:"/account/organizations",Name:"Organizations"}]}function y(){return[{checked:!0,id:1,Name:"Purchased"},{checked:!1,id:2,Name:"Free"}]}var n={};return n.getStaticList=function(n){switch(n){case"alpha":return t();case"home":return c();case"sort":return a();case"search":return l();case"ipp":return e();case"natureOfRequest":return i();case"urlList":return v();case"software":return u();case"media":return r();case"account":return f();case"freePurchased":return y();case"license":return s();case"members":return h();case"plans":return o();default:return[]}},n};n.factory("listService",["$rootScope",t])}(angular.module("softouch")),function(n){var t=function(){var n={};return n.errorData=[],n.errorText="",n.infoText="",n.error={},n.info={},n.currentError={},n.displayError=function(t){t!=null&&(n.errorText=t,n.error.messages=[],n.error.messages.push(t));$("#errorDiv").removeClass("hidden")},n.displayInfo=function(t){t!=null&&(n.infoText=t,n.info.messages=[],n.info.messages.push(t));$("#infoDiv").removeClass("hidden")},n.displayMobileError=function(t){t!=null&&(n.errorText=t,n.error.messages=[],n.error.messages.push(t));$(".errorMobileDiv").removeClass("hidden")},n.displayMobileInfo=function(t){t!=null&&(n.infoText=t,n.info.messages=[],n.info.messages.push(t));$(".infoMobileDiv").removeClass("hidden")},n.clearError=function(){n.error={};n.error.messages=[];$("#errorDiv").addClass("hidden")},n.clearInfo=function(){n.info={};n.info.messages=[];$("#infoDiv").addClass("hidden")},n.clearMobileError=function(){n.clearError();$(".errorMobileDiv").addClass("hidden")},n.clearMobileInfo=function(){n.clearInfo();$(".infoMobileDiv").addClass("hidden")},n.hideMessages=function(){clearMobileError();clearMobileInfo()},n.addError=function(t){n.errorData.push(t);n.currentError=t},n.removeError=function(t){var i=n.errorData.indexOf(t);i!=-1&&n.errorData.splice(i,1);n.currentError=n.errorData.length>0?n.errorData[n.errorData.length-1]:{}},n};n.factory("messageService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){var i={};return i.errors=[],i.orgList=[],i.selectedOrganization=[],i.newOrganization={},i.getOrgs=function(){return t.getSetData("/component/GetOrganizations",null).then(function(t){if(t.Error)i.errors=t.ErrorMessages,i.orgList=[],i.selectedOrganization=[];else{i.orgList=t;var r=i.orgList.filter(function(n){return n.IsDefaultAccount});i.selectedOrganization=r.length>0?r[0]:i.orgList[0]}return n.$broadcast("orgListReady",{orgList:i.orgList}),i.orgList},function(){})},i.addOrg=function(){var r=i.newOrganization;return t.getSetData("/component/AddOrganization",r).then(function(t){if(t.Error)return t;i.orgList=t;var r=i.orgList.filter(function(n){return n.Name==i.newOrganization.Name});return i.selectedOrganization=r.length>0?r[0]:{},n.$broadcast("orgListReady",{orgList:i.orgList}),t},function(n){console.log(n.data)})},i.changeOrg=function(){var r={accountId:i.selectedOrganization.AccountId,website:1};return t.getSetData("/component/ChangeAccount",r).then(function(t){t.Error?(i.orgList=[],i.selectedOrganization=[]):n.$broadcast("updatedOrg",{selectedOrganization:i.selectedOrganization})},function(n){console.log(n.data)})},i.clear=function(){i.orgList=[];i.selectedOrganization=[];n.$broadcast("orgListReady",{orgList:i.orgList})},i};n.factory("organizationService",["$rootScope","dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t){function r(){i.pageFirst=1;i.currentPage<4?(i.pageFirst=null,i.pageval1=i.currentPage<3?null:i.currentPage-2,i.pageval2=i.currentPage<2?null:i.currentPage-1,i.pageval3=i.currentPage+0,i.pageval4=i.currentPage+1,i.pageval5="..."):(i.pageval1="...",i.pageval2=i.currentPage-1,i.pageval3=i.currentPage+0,i.pageval4=i.currentPage+1,i.pageval5="...");i.pageLast=i.numberOfPages;var n=i.numberOfPages-i.currentPage;n<4&&(i.pageLast=null,i.pageval2=i.currentPage-1,i.pageval2=i.pageval2==0?null:i.pageval2,i.pageval4=n<1?null:i.currentPage+1,i.pageval5=n<2?null:i.currentPage+2)}var i={};return i.filterTitle="Purchased Media",i.pageData=[],i.pageSize=16,i.numberOfPages=function(){return Math.ceil(i.previewData.length/i.pageSize)},i.currentPage=1,i.goNext=function(){i.currentPage+1>i.numberOfPages?i.currentPage=i.numberOfPages:i.currentPage+=1;r()},i.goPrev=function(){i.currentPage-1<1?i.currentPage=1:i.currentPage-=1;r()},i.goFirst=function(){i.currentPage=1;r()},i.goLast=function(){$("html,body").scrollTop(0);i.currentPage=i.numberOfPages;r()},i.goPage=function(n){i.currentPage=n;r()},i.pageFirst=null,i.pageLast=null,i.pageval1=null,i.pageval2=null,i.pageval3=null,i.pageval4=null,i.pageval5=null,i.initPaginationVariables=function(){i.previewData=[];i.currentPage=1;i.numberOfPages=0;i.ippList=t.getStaticList("ipp");i.ipp=i.ippList[0];i.pageSize=i.ipp.value},i};n.factory("paginationService",["dataService","listService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.producers=[],t.GetProducers=function(){return n.getSetData("/component/GetProducers",null).then(function(n){return t.producers=n,t.producers},function(n){return n.data})},t};n.factory("producerService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n){var t={};return t.profileData=[],t.getProfile=function(){return n.getSetData("/component/UserInfo/",{website:1}).then(function(n){return t.profileData=n,t.profileData},function(n){return n.data})},t.updateContactInformation=function(i,r){var u={First:i,Last:r};return n.getSetData("/component/updateContactInformation/",u).then(function(n){return t.profileData=n,t.profileData},function(n){return n.data})},t};n.factory("profileService",["dataService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u){var f={},e;return f.menuData=[],f.mainTopic="",f.selectedItem={},f.reset=function(){u.initFilters();f.mainTopic="";n.$broadcast("TopicChange",{mainTopic:f.mainTopic,selectedItem:f.selectedItem})},f.selectMe=function(n){switch(n){case"software":f.selectedItem=r.getStaticList(n)[0];e(n);break;case"account":f.selectedItem=r.getStaticList(n)[0];e(n);break;case"media":f.selectedItem={};e(n);break;case"support":f.selectedItem={};e(null)}},e=function(t){f.mainTopic=t;n.$broadcast("TopicChange",{mainTopic:f.mainTopic,selectedItem:f.selectedItem})},f};n.factory("secondaryMenuService",["$rootScope","$location","dataService","listService","itemService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u,f,e){var s={};s.rawData=[];s.category="";s.searchTerms="";s.checkUrlSync=function(n){var r=n.split("/"),u=r.indexOf(f[0].SermonVideoUrlVal),o=r.indexOf(f[0].BackrgoundUrlVal),s=r.indexOf(f[0].CollectionUrlVal),h=r.indexOf(f[0].CountdownsUrlVal),i=!1,t;return u>0&&(t=JSON.parse(e.getCookie("filters")).b,t.length>0?i=t[0].id==256:null),o>0&&(t=JSON.parse(e.getCookie("filters")).b,t.length>0?i=parseInt(t[0].id)+parseInt(t[1].id)==192:null),s>0&&(t=JSON.parse(e.getCookie("filters")).b,t.length>0?i=t[0].id==512:null),h>0&&(t=JSON.parse(e.getCookie("filters")).b,t.length>0?i=t[0].id==8192:null),i};s.parse=function(n){var i=n.split("/"),tt=i.indexOf(f[0].SermonVideoUrlVal),it=i.indexOf(f[0].BackrgoundUrlVal),rt=i.indexOf(f[0].CollectionUrlVal),ut=i.indexOf(f[0].CountdownsUrlVal),h=i.indexOf(f[0].searchUrlVal),c=i.indexOf(f[0].tagUrlVal),l=i.indexOf(f[0].producerUrlVal),a=i.indexOf(f[0].orderUrlVal),v=i.indexOf(f[0].ippUrlVal),y=i.indexOf(f[0].pageUrlVal),ft=i.indexOf(f[0].searchFilterUrlVal),et=i.indexOf(f[0].tagFilterUrlVal),w=i.indexOf(f[0].producerFilterUrlVal),b=i.indexOf(f[0].durationUrlVal),k=i.indexOf(f[0].priceUrlVal),d=i.indexOf(f[0].qualityUrlVal),ot=i.indexOf(f[0].colorUrlVal),g=i.indexOf(f[0].topicUrlVal),nt=i.indexOf(f[0].productTypeUrlVal),p,s,t,u;if(r.initFilters(),h>0&&(t={id:1,key:"s",value:i[h+1],checked:!0},r.itemData.selectedFilters.s.push(t)),ft>0&&(t={id:1,key:"s",value:i[h+1],checked:!0},r.itemData.selectedFilters.s.push(t)),c>0&&(t={id:i[c+1],key:"g",value:i[c+2].toLowerCase()},r.itemData.selectedFilters.g.push(t)),l>0&&(t={id:i[l+1],key:"pr",value:i[l+2].toLowerCase(),checked:!0},r.itemData.selectedFilters.pr.push(t)),w>0&&(u=i[w+1].split("-"),$.each(u,function(n,t){o("pr",t.id)})),y>0?(t={id:i[y+1],key:"pg",value:i[y+1]},r.itemData.selectedFilters.pg.push(t)):(t={id:1,key:"pg",value:1},r.itemData.selectedFilters.pg.push(t)),v>0?(t={id:i[v+1],key:"ipp",value:i[v+1]},r.itemData.selectedFilters.ipp.push(t)):(t={id:25,key:"ipp",value:25},r.itemData.selectedFilters.ipp.push(t)),tt>0&&(t={id:256,key:"b",value:"Sermon Videos",checked:!0},r.itemData.selectedFilters.b.push(t)),it>0&&(t={id:64,key:"b",value:"Stills",checked:!0},r.itemData.selectedFilters.b.push(t),t={id:128,key:"b",value:"Motions",checked:!0},r.itemData.selectedFilters.b.push(t)),rt>0&&(t={id:512,key:"b",value:"Collections",checked:!0},r.itemData.selectedFilters.b.push(t)),ut>0&&(t={id:8192,key:"b",value:"Countdowns",checked:!0},r.itemData.selectedFilters.b.push(t)),nt>0)for(r.itemData.selectedFilters.b=null,r.itemData.selectedFilters.b=[],p=i[nt+1],s=1;s<=p;s*=2)(p&s)>0&&o("b",s);a>0?(t={id:i[a+1],key:"o",value:i[a+1]},r.itemData.selectedFilters.o.push(t)):(t={id:0,key:"o",value:"Popular"},r.itemData.selectedFilters.o.push(t));g>0&&(u=i[g+1].split("-"),$.each(u,function(n,t){o("t",t)}));b>0&&(u=i[b+1].split("-"),$.each(u,function(n,t){o("d",t)}));k>0&&(u=i[k+1].split("-"),$.each(u,function(n,t){o("pb",t)}));d>0&&(u=i[d+1].split("-"),$.each(u,function(n,t){o("q",t)}));e.setFiltersCookie()};var o=function(n,t){var f=u.availableFilters.filter(function(t){var i={};return i=t.Key?t.Key:t.key,i==n}),i;f.length==0?r.itemData.selectedFilters[n].push({key:n,id:t,value:"unknown",checked:!0}):(i=f[0].Values.filter(function(n){var i={};return i=n.Key?n.Key:n.key,i==t}),i.length>0&&(tmpkey=i[0].Key?i[0].Key:i[0].key,tmpval=i[0].Value?i[0].Value:i[0].value,r.itemData.selectedFilters[n].push({key:n,id:tmpkey,value:tmpval,checked:!0})))},h=function(n,t){(t&256)==256&&o(n,256);(t&128)==128&&o(n,128);(t&8192)==8192&&o(n,8192);(t&64)==64&&o(n,64)},c=function(n){var t="";switch(n){case"allmedia":t="All Media";r.itemData.selectedFilters.b=[];break;case"sermonvideos":t="Sermon Videos";r.itemData.selectedFilters.b.push({key:"b",id:256,value:t});break;case"motionbackgrounds":t="Backgrounds";r.itemData.selectedFilters.b.push({key:"b",id:128,value:"Motions"});r.itemData.selectedFilters.b.push({key:"b",id:64,value:"Stills"});break;case"motion-backgrounds":t="Backgrounds";r.itemData.selectedFilters.b.push({key:"b",id:128,value:"Motions"});r.itemData.selectedFilters.b.push({key:"b",id:64,value:"Stills"});break;case"countdowns":t="Countdowns";r.itemData.selectedFilters.b.push({key:"b",id:8192,value:t});break;case"stills":t="Stills";r.itemData.selectedFilters.b.push({key:"b",id:64,value:t});break;case"collections":t="Collections";r.itemData.selectedFilters.b.push({key:"b",id:512,value:t});break;case"seasonal":t="All Media";r.itemData.selectedFilters.b=[];break;case"producers":t="All Media";r.itemData.selectedFilters.b=[];break;case"producer":t="All Media";r.itemData.selectedFilters.b=[];break;case"search":t="All Media";r.itemData.selectedFilters.b=[];break;default:t="All Media";r.itemData.selectedFilters.b=[]}return t};return s.setFilterUrl=function(){var n=r.filterUrl();n!=""?location.hash=n:null},s.setCategory=function(n){switch(n){case"sermonvideos":r.itemData.selectedFilters.b.push({key:"b",id:256,value:"Sermon Videos"});break;case"motionbackgrounds":r.itemData.selectedFilters.b.push({key:"b",id:128,value:"Motions"});r.itemData.selectedFilters.b.push({key:"b",id:256,value:"Sermon Videos"});break;case"motion-backgrounds":r.itemData.selectedFilters.b.push({key:"b",id:128,value:"Motions"});r.itemData.selectedFilters.b.push({key:"b",id:256,value:"Sermon Videos"});break;case"countdowns":r.itemData.selectedFilters.b.push({key:"b",id:8192,value:"Countdowns"});break;case"stills":r.itemData.selectedFilters.b.push({key:"b",id:64,value:"Stills"});break;case"collections":r.itemData.selectedFilters.b.push({key:"b",id:512,value:"Collections"});break;default:r.itemData.selectedFilters.b.push({key:"b",id:9152,value:"All Media"})}},s};n.factory("urlService",["$rootScope","dataService","$location","itemService","dataFilterService","constants","cookieService",t])}(angular.module("softouch")),function(n){var t=function(n,t,i,r,u,f,e,o,s){var h={},l;h.userData={};h.userData.salutation="Login";h.userData.availableCredit=0;h.userData.loggedIn=!1;h.guest=!1;h.accountList=[];h.orgList=[];h.cartList=[];h.lastPageUrl="";h.getCredits=function(){return f.getcredits().then(function(n){if(n.Error)return{AvailableCredit:0};h.userData.availableCredit=f.creditData.AvailableCredit})};h.signUp=function(n){var i=u[0].ActInfo.create;return h.userData.Username=n.Email,h.userData.Password=n.Password,h.userData.salutation=n.First,t.getSetData(i,n).then(l,c)};l=function(n){var t={Username:h.userData.Username,Password:h.userData.Password,Rememberme:!0};return h.login(t),n};h.login=function(n){var i=u[0].ActInfo.postLogin;return t.getSetData(i,n).then(v,c)};h.getLoginData=function(){var n=u[0].ActInfo.LoginUrl;return t.getSetData(n,null).then(y,c)};h.logout=function(){var n=u[0].ActInfo.LogoutUrl;return t.getSetData(n,null).then(a,c)};h.activeHref=function(){return h.userData.loggedIn?"/account/downloads":u[0].ActInfo.LoginAJSurl};var a=function(t){return h.userData.salutation="Sign In",h.userData.loggedIn=!1,h.accountList=[],h.guest=!1,h.userData.availableCredit=0,r.clear(),o.clear(),n.$broadcast("loggedOut",{loggedIn:!1}),t},v=function(n){return n},y=function(t){h.userData.loggedIn=t.loggedIn;t.loggedIn&&(h.userData.needsToLogin=!t.loggedIn,h.userData.salutation=t.firstName,h.accountList=s.getStaticList("account"));i.cartData=t.cartItems;o.getOrgs().then(function(t){n.$broadcast("loginDataReady",{data:t})});n.$broadcast("loggedIn",{valid:t.loggedIn});n.$broadcast("cartListReady",{cartList:i.cartData})},c=function(t){return n.$broadcast("LoginFailed",{loggedIn:!1}),t};return h};n.factory("userService",["$rootScope","dataService","cartService","cardService","constants","creditService","messageService","organizationService","listService","cookieService",t])}(angular.module("softouch")),function(n){"use strict";n.directive("resizable",["$parse","$rootScope","$window",function(n,t,i){return{restrict:"A",link:function(n,r){var u=angular.element(i),f=function(n){console.log(n)};u.bind("resize",function(){var n={element:r};t.$broadcast("elementResized",n)})}}}])}(angular.module("softouch")),function(n){"use strict";n.directive("ngRightClick",["$parse","$rootScope","$window",function(n){return function(t,i,r){var u=n(r.ngRightClick);i.bind("contextmenu",function(n){t.$apply(function(){n.preventDefault();u(t,{$event:n})})})}}])}(angular.module("softouch")),function(){"use strict";function t(n,t,i,r,u,f,e,o){function v(){u.getLoginData().then(function(){});e.getOrgs().then(function(){s.orgList=e.orgList;s.selectedOrganization=e.selectedOrganization})}function y(){s.salutation=u.userData.salutation;s.dropList=u.accountList;s.cartList=r.cartData;s.orgList=e.orgList;s.selectedOrganization=e.selectedOrganization;s.login=u.activeHref();s.href=u.activeHref();s.loggedIn=u.userData.loggedIn;s.loggedIntext=s.loggedIn?"":"Login"}function h(){s.salutation=u.userData.salutation;s.dropList=[];s.cartList=r.cartData;s.login=u.activeHref();s.href=u.activeHref();s.loggedIn.value=u.userData.loggedIn;s.loggedIntext=s.loggedIn?"":"Login"}function p(){h()}var s=this,c,l,a;s.selectedOrganization=null;s.loggedIntext=s.loggedIn?"":"Login";s.$onInit=function(){v()};s.selectOrg=function(n){e.selectedOrganization=n;e.changeOrg()};s.navTo=function(n){u.userData.loggedIn?(o.reset(),o.selectedItem=n,window.location.href=n.url):window.location.href="/account/login/"};s.signOut=function(){s.hidePop();u.logout().then(h,p);window.location.href="/"};s.checkPop=function(){s.href!="/account/downloads"?$(".account-dropdown-content").css("display","none"):$(".account-dropdown-content").css("display","block")};s.hidePop=function(){$(".account-dropdown-content").css("display","none")};s.goUrl=function(){o.reset()};c=t.$on("loginDataReady",function(){y()});n.$on("$destroy",c);l=t.$on("loggedOut",function(){e.clear()});n.$on("$destroy",l);a=t.$on("updatedOrg",function(){s.selectedOrganization=e.selectedOrganization;s.orgList=e.orgList});n.$on("$destroy",a)}var n=angular.module("softouch");n.component("account",{templateUrl:"/scripts/app/components/account/account.component.html",controllerAs:"cmp",bindings:{loggedIn:"="},controller:["$scope","$rootScope","$location","cartService","userService","constants","organizationService","secondaryMenuService","cookieService",t]})}(),function(){"use strict";function t(n,t){var i=this;i.sortTitle=!1;i.sortLang=!1;i.sortPrice=!1;i.sort=function(n){i.ob=[];switch(n){case"t":i.sortTitle=!i.sortTitle;i.sortTitle?i.ob.push("BibleAttributes.Abbreviation"):i.ob.push("-BibleAttributes.Abbreviation");break;case"l":i.sortLang=!i.sortLang;i.sortLang?i.ob.push("BibleAttributes.Language"):i.ob.push("-BibleAttributes.Language");break;case"p":i.sortPrice=!i.sortPrice;i.sortPrice?i.ob.push("MaxPrice"):i.ob.push("-MaxPrice")}};i.cartBible=function(n){var i={};i.CartDetailId=n.CartDetailId;t.cartIt(i,!n.IsInCart);n.IsInCart=!n.IsInCart};i.downloadUrl=function(n){return i.urlTemplate.replace("{0}",n)};i.ob=[];window.peek=this}var n=angular.module("softouch");n.component("bible",{templateUrl:"/scripts/app/components/bible/bible.component.html",controllerAs:"cmp",bindings:{bibles:"=",urlTemplate:"@"},controller:["$scope","cartService",t]})}(),function(){"use strict";function t(n,t,i,r){function f(){}var u=this;u.handleCrumbClick=function(n){switch(n.key){case"s":r.removeKey(n);t.$broadcast("filtersUpdated",{clearSearch:!0,resetCurrentPage:!0});break;case"g":r.removeKey(n);t.$broadcast("filtersUpdated",{resetCurrentPage:!0});break;default:t.$broadcast("filterSelectMe",{item:n})}};angular.element(document).ready(function(){f()})}var n=angular.module("softouch");n.component("breadcrumb",{templateUrl:"/scripts/app/components/breadcrumb/breadcrumb.component.html",controllerAs:"cmp",bindings:{crumbStyle:"@",crumbData:"="},controller:["$scope","$rootScope","itemService","dataFilterService",t]})}(),function(){"use strict";function t(n,t,i,r,u,f,e){function l(){var n=0,t=0;return $.each(o.dropList,function(i,r){r.link=r.DetailUrl;$.each(r,function(t,i){t=="CheckoutPrice"&&(n+=i)});t+=1}),o.count=t,n}var o=this,s,h,c;o.baseUrl=e[0].BaseUrl.previewImage_thumbnails;o.count=0;o.href="#";o.total=0;o.dropList=[];s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);h=/Mobi/.test(navigator.userAgent);(s||h)&&(o.href="/checkout",$(".cart-dropdown-content").css("display","none"));c=i.$on("cartListReady",function(){o.dropList=u.cartData;o.total=l()});n.$on("$destroy",c);o.checkPop=function(){s||h||($(".cart-dropdown-content").finish(),$(".cart-dropdown-content").css("display","block"),$(".cart-img").toggleClass("hover"))};o.hidePop=function(){$(".cart-dropdown-content").css("display","none");$(".cart-img").toggleClass("hover")};o.goUrl=function(){f.reset();(s||h)&&(window.location.href=o.href);$(".cart-dropdown-content").css("display","none")};o.goPrev=function(n){f.reset();var t=parseUrlTitle(n.Title);window.location.href="/"+n.TypeText+"/"+n.ProductId+"/"+t};o.checkout=function(){f.reset();window.location.href="/checkout"};o.removeMe=function(n){window.event.cancelBubble=!0;u.cartIt(n,!1);$(".cart-dropdown-content").css("display","block")}}var n=angular.module("softouch");n.component("cart",{templateUrl:"/scripts/app/components/cart/cart.component.html",controllerAs:"cmp",bindings:{c:"@"},controller:["$scope","$http","$rootScope","$location","cartService","secondaryMenuService","constants",t]})}(),function(){"use strict";function t(n,t,i,r){window.peek=this;var u=this;u.quality={};u.fType={};u.downloadCaption="Download";u.getImg=function(){return r[0].BaseUrl.previewImage_thumbnails+u.itm.ProductId+".jpg"};u.downloadItem=function(){var r=$("body").hasClass("integratedStore"),n,t;r?(u.downloadCaption="Downloading",$("#downloadBtn"+u.index).addClass("stopNgClick")):$("#downloadDialog").modal("hide");n="";i.guestToken!==undefined&&i.guestToken!==""&&(n=i.guestToken);t="/component/download?detailId="+u.quality.DetailId+"&format="+u.fType+"&token="+n;($("#iguid").val()!==undefined&&$("#iguid").val()!==""||$("#accountGuid").val()!==undefined&&$("#accountGuid").val()!=="")&&(t="/gui?action=download&btnIndex="+u.index+"&detailid="+u.quality.DetailId+"&fileformat="+u.fType);window.location.href=t}}var n=angular.module("softouch");n.component("downloadItem",{templateUrl:"/scripts/app/components/downloadItem/downloadItem.component.html",controllerAs:"cmp",bindings:{itm:"<",index:"@"},controller:["$http","$scope","$rootScope","constants",t]})}(),function(){"use strict";function t(n,t,i,r,u,f,e,o,s,h){function l(){$.each(c.dropList,function(n,t){t.checked=!1;r.order="";switch(c.listType){case"home":f.setCategory("allmedia");break;case"sort":r.order="popular";break;case"org":case"freePurchased":case"media":break;case"ipp":break;default:f.setCategory("all-media")}})}function a(n){c.selectedItem=n;$.each(c.dropList,function(i,r){switch(c.listType){case"home":r.id==n.id&&(r.checked=!0,c.selected=n);break;case"media":r.id==n.id&&(r.checked=!0,c.selected=n);t.$broadcast("mediaValueChanged",{mediaValue:n});break;case"sort":r.id==n.id&&(r.checked=!0);break;case"search":r.id==n.id&&(r.checked=!0);break;case"org":r.AccountId==n.AccountId&&(r.checked=!0);break;case"ipp":break;case"freePurchased":r.id==n.id&&(r.checked=!0);break;default:f.categoryName="All Media";f.itemData.selectedFilters.b=[];f.itemData.selectedFilters.o=[]}})}var c=this,v,y,p,w;c.dropList=[];c.selectedItem={};c.adjustPosition="";c.hasSoftware=s.containSoftware();c.$onInit=function(){var n,t;switch(c.listType){case"ipp":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(n=f.itemData.selectedFilters.ipp.length>0?f.itemData.selectedFilters.ipp[0]:c.dropList[0],t=c.dropList.filter(function(t){return t.id==n.id}),c.selectedItem=t[0]);break;case"home":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(c.selectedItem=c.dropList[0]);break;case"media":c.dropList=i.getStaticList("home");typeof c.dropList!="undefined"&&(c.selectedItem=c.dropList[0]);break;case"sort":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(n=f.itemData.selectedFilters.o.length>0?f.itemData.selectedFilters.o[0]:c.dropList[0],t=c.dropList.filter(function(t){return t.id==n.id}),c.selectedItem=t[0]);break;case"search":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(c.selectedItem=c.dropList[0]);break;case"natureOfRequest":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(c.selectedItem=c.dropList[0]);break;case"freePurchased":c.dropList=i.getStaticList(c.listType);typeof c.dropList!="undefined"&&(c.selectedItem=c.dropList[0]);break;case"org":e.orgList.length===0||(c.dropList=e.orgList,typeof c.dropList!="undefined"&&c.dropList!==null&&(c.selectedItem=e.selectedOrganization,l(),a(e.selectedOrganization)));break;default:c.dropList=c.newList}switch(c.customStyle){case"homeFilter":c.adjustPosition="adjust-position";break;case"accountFilter":c.adjustPosition="adjust-position";break;case"searchbar":c.adjustPosition="search-position";break;case"checkoutOrg":c.adjustPosition="org-position";break;case"mediaDownloadsOrg":c.adjustPosition="downloads-position";break;case"activationOrg":c.adjustPosition="act-position";break;case"licenseOrg":c.adjustPosition="lic-position";break;case"natureOfRequest":c.adjustPosition="nature-position";break;case"accountOrgFilter":c.adjustPosition="account-org-position";break;default:c.adjustPosition=""}};c.send=function(){};c.selectMe=function(i){l();a(i);switch(c.listType){case"ipp":f.itemData.selectedFilters.ipp=[];f.itemData.selectedFilters.ipp.push({id:i.value,key:"ipp",value:i.value});t.$broadcast("ippChanged",{ippChanged:!0,id:i.value});break;case"home":f.categoryName=i.Name;break;case"media":f.categoryName=i.Name;break;case"sort":f.itemData.selectedFilters.pg=[];f.itemData.selectedFilters.pg.push({id:1,key:"pg",value:1});f.itemData.selectedFilters.o=[];f.itemData.selectedFilters.o.push({id:i.id,key:"o",value:i.Name});h.setFiltersCookie();t.$broadcast("orderChanged",{orderChanged:!0,id:i.id});break;case"search":f.categoryName=i.Name;break;case"org":toggleBodyCover(!0);e.selectedOrganization=i;e.changeOrg();break;case"natureOfRequest":supportService.nature=i;break;case"freePurchased":n.$parent.toggleData(i);break;default:f.categoryName="All Media"}};v=t.$on("updatedOrg",function(){c.listType=="org"&&(c.selectedItem=e.selectedOrganization,l(),a(e.selectedOrganization))});n.$on("$destroy",v);y=t.$on("orgListReady",function(n,t){c.listType=="org"&&(c.dropList=typeof t.orgList=="undefined"?[]:t.orgList,c.selectedItem=e.selectedOrganization,l(),a(e.selectedOrganization))});n.$on("$destroy",y);p=t.$on("selectOrder",function(n,t){if(c.listType=="sort"){var i=c.dropList.filter(function(n){return n.id==t.item.id});i.length>0?c.selectedItem=i[0]:null;l();a(c.selectedItem)}});n.$on("$destroy",p);w=t.$on("selectIpp",function(n,t){if(c.listType=="ipp"){var i=c.dropList.filter(function(n){return n.id==t.item.id});i.length>0?c.selectedItem=i[0]:null;l();a(c.selectedItem)}});n.$on("$destroy",w)}var n=angular.module("softouch");n.component("ddlMenu",{templateUrl:"/scripts/app/components/dropDownMenu/ddl-menu.component.html",controllerAs:"cmp",bindings:{listType:"@",customStyle:"@",newList:"=",icon:"@",arrowClass:"@",ddlStyle:"@"},controller:["$scope","$rootScope","listService","dataService","dataFilterService","itemService","organizationService","userService","cartService","cookieService",t]})}(),function(){"use strict";function t(){function r(){n.selectImage(1)}var n=this,t,i;n.title="All your church presentation needs in one software.";n.bottomText="EasyWorship is a powerful, yet simple church presentation software. Build your entire service - song lyrics, Scriptures, announcements, videos and sermon notes - in one place, quickly and efficiently. Experience the software that is uniquely designed to meet the needs of churches, big and small, around the world.";n.bannerClick=function(){};n.banners=[];n.banners.push({image:"/Images/features-screen-1.png",overlay:""},{image:"/Images/features-screen-2.png",overlay:""},{image:"/Images/features-screen-3.png",overlay:""},{image:"/Images/features-screen-4.png",overlay:""});t=0;n.selectImage=function(n){$("[id^='bannerImage']").css("z-index","0").css("opacity",".5");$("#bannerImage"+t).css("z-index","5").css("opacity","1");t=n;var r="#bannerImage"+n;$(r).css("z-index","10");$(r).css("opacity",".5");$(r).animate({opacity:"1"},"slow");i(n)};i=function(n){$("[id^='listbuttons']").removeClass("sel");var t="#listbuttons"+n;$(t).addClass("sel")};n.selectNext=function(){t+=1;t>n.banners.length?t=1:null;n.selectImage(t)};angular.element(document).ready(function(){r()})}var n=angular.module("softouch");n.component("ewFadeBanner",{templateUrl:"/scripts/app/components/ewFadeBanner/ewFadeBanner.component.html",controllerAs:"cmp",bindings:{pricingUrl:"@"},controller:["$scope","$rootScope","itemService","dataFilterService",t]})}(),function(){"use strict";function t(n,t,i,r,u){function h(n,t){f.filterMaxSize=5;f.titleVal==="Topic"&&(f.filterMaxSize=10);f.titleVal==="Producers"&&(f.filterMaxSize=5);f.titleVal==="Category"&&(f.filterMaxSize=10);f.newFilterList=[];$.each(f.filterList,function(n,t){var i={};i=t.Value?{value:t.Value,id:t.Key,checked:!1,key:f.key,topTen:t.TopTen}:{value:t.value,id:t.id,checked:!1,key:f.key,topTen:t.topTen};f.newFilterList.push(i)});f.filterList=f.newFilterList;f.unSelectedList=f.newFilterList;f.titleVal==="Topic"&&(f.expand="expand",f.ddlIcon="glyphicon glyphicon-menu-down");f.more=f.filterList.length<=f.filterMaxSize?"nomore":"";var i=f.filterList.filter(function(n){return u.itemData.selectedFilters[f.key].filter(function(t){return n.id==t.id}).length>0});i.length>0?(f.expand="expand",f.ddlIcon="glyphicon glyphicon-menu-down",$.each(i,function(i,r){f.selectMe(r,n,t)})):(f.selectedList=u.itemData.selectedFilters[f.key],$.each(f.selectedList,function(n,t){t.checked=!1}),$.each(f.unSelectedList,function(n,t){t.checked=!1}))}function y(n){return!n.checked}function p(n){return n.checked}function s(){$.each(f.filterList,function(n,t){t.checked=!1;f.selectedList=[];f.unSelectedList=f.filterList})}var f=this,e=u.itemData.selectedFilters.b,o=(e&8576)==e,c,l,a,v;f.prArray=u.itemData.selectedFilters.pr;switch(f.key){case"b":f.showFilter=!o&&e!=64;break;case"d":f.showFilter=o;break;case"q":f.showFilter=o;break;default:f.showFilter=!0}f.selectedList=[];f.newFilterList=[];f.unSelectedList=[];f.ddlIcon="glyphicon glyphicon-menu-right";f.more="";f.filtergroup="";f.$onInit=function(){h(!1,!0);f.expanded&&(f.expand="expand")};f.send=function(){};f.clearAll=function(){f.expand="expand";f.ddlIcon="glyphicon glyphicon-menu-down";s();i.$broadcast("clearedFilters",{key:f.key})};c=i.$on("ModalListSelected",function(){f.selectedList=f.filterList.filter(p);var n=f.filterList.filter(y);f.unSelectedList=n});t.$on("$destroy",c);l=i.$on("clearAll",function(){f.key!="b"&&s()});t.$on("$destroy",l);a=i.$on("filterSelectMe",function(n,t){t.item.key==f.key&&f.selectMe(t.item,!0,!1)});t.$on("$destroy",a);v=i.$on("filterRefresh",function(){s();h(!1,!0)});t.$on("$destroy",v);f.ShowModalFilters=function(){i.$broadcast("modalListReady",{modalList:f.filterList,title:f.titleVal,orderByValue:f.orderByValue});$("#FiltersModal").modal("show")};f.selectMe=function(n,t,r){var o=u.itemData.selectedFilters[n.key].filter(function(t){return t.id==n.id}).length>0,s=u.itemData.selectedFilters[n.key].length>0,e;r||(o?s?u.removeFilterKey(n):null:(n.checked=!0,u.itemData.selectedFilters[n.key].push(n)));f.selectedList=u.itemData.selectedFilters[n.key];$.each(f.selectedList,function(n,t){t.checked=!0});e=[];$.each(f.filterList,function(n,t){var i=!1;$.each(f.selectedList,function(n,r){r.id==t.id?i=!0:null});i?null:e.push(t)});$.each(e,function(n,t){t.checked=!1});f.unSelectedList=e;r||i.$broadcast("filterSelected",{filterItem:n,add:n.checked})};f.expandList=function(n){n&&(f.expand=f.expand==="expand"?"":"expand",f.ddlIcon=f.ddlIcon==="glyphicon glyphicon-menu-right"?"glyphicon glyphicon-menu-down":"glyphicon glyphicon-menu-right")}}var n=angular.module("softouch");n.component("filters",{templateUrl:"/scripts/app/components/filters/filters.component.html",controllerAs:"cmp",bindings:{titleVal:"@",key:"@",filterList:"<",orderByValue:"<",showX:"<",showClear:"<",showExpandIcon:"<",expanded:"<"},controller:["$http","$scope","$rootScope","$location","itemService","dataFilterService","cookieService",t]})}(),function(){"use strict";function t(n,t,i){function s(){u=$("#descriptionWrapper")[0].clientHeight;f=$("#descriptionWrapper")[0].scrollHeight}function h(){e()}var r=this,o;r.overFlow=!1;var u=0,f=0,e=function(){s("checkDescription");r.overFlow=u<f};r.showMoreDescription=function(){$("#descriptionWrapper").hasClass("more")?($("#descriptionWrapper").removeClass("more"),$("#more").html("See More")):($("#descriptionWrapper").addClass("more"),$("#more").html("See Less"))};o=i.$on("elementResized",function(){e()});t.$on("$destroy",o);angular.element(document).ready(function(){h()})}var n=angular.module("softouch");n.component("moreBox",{templateUrl:"/scripts/app/components/moreBox/moreBox.component.html",controllerAs:"cmp",bindings:{description:"@",tags:"=",list:"<"},controller:["$http","$scope","$rootScope",t]})}(),function(){"use strict";function t(n,t,i,r){function h(){o()}function c(){f=$("#descriptionWrapperList")[0].clientHeight;e=$("#descriptionWrapperList")[0].scrollHeight}var u=this,s;u.overFlowList={};var f=0,e=0,o=function(){var n="";$.each(u.tagData,function(t,i){n+="<li class='previewDetailTag'><a href='/media/tag/"+t+"/"+removeSpecialChars(i)+"'>"+i+"<\/a><\/li>"});$("#emptyList").html(n);c("checkDescription");u.overFlowList.value=f+1<e};u.handleTagClick=function(n){var t=u.tagData.filter(function(t){return t.Id==n});u.tagSearch(t[0])};u.tagSearch=function(n){r.itemData.tagData=[];r.itemData.tagData.push(n);window.location.href="/media/search/#/s/"+n.id+"/"+parseUrlTitle(n.Name)};u.showMoreDescriptionList=function(){$("#descriptionWrapperList").hasClass("more")?($("#descriptionWrapperList").removeClass("more"),$("#moreList").html("See More")):($("#descriptionWrapperList").addClass("more"),$("#moreList").html("See Less"))};s=i.$on("elementResized",function(){o()});t.$on("$destroy",s);angular.element(document).ready(function(){h()})}var n=angular.module("softouch");n.component("moreBoxListStyle",{templateUrl:"/scripts/app/components/moreBox/moreBoxListStyle.component.html",controllerAs:"cmp",bindings:{description:"@",tagData:"="},controller:["$http","$scope","$rootScope","itemService",t]})}(),function(){"use strict";function t(n,t,i,r,u,f,e,o,s,h,c){function it(n){for(var t="",r=n.split(" "),u=0,f=0,i=0;i<r.length;i++)u=Math.floor(t.length/w),u>f?(f=u,t+="\r\n",t+=r[i]):t+=" "+r[i];return t.length<2&&(t=""),t}var l,w,a,p,b,k,d,g,nt,tt,v,y;window.itemPrev=this;l=this;w=50;l.baseUrl="";l.imgSrc="";a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);p=/Mobi/.test(navigator.userAgent);l.$postLink=function(){l.poster=l.baseUrl+l.previewItem.ProductId+".jpg"};l.isMobile=a||a;l.isIntegratedStore=$("body").hasClass("integratedStore");b=t.$on("loggedIn",function(){});f.$on("$destroy",b);k=t.$on("loggedOut",function(){});f.$on("$destroy",k);d=t.$on("cartRemove",function(n,t){t.item.CartDetailId===l.previewItem.CartDetailId&&(l.previewItem.IsInCart=!1)});f.$on("$destroy",d);g=t.$on("cartAdd",function(n,t){t.item.CartDetailId===l.previewItem.CartDetailId&&(l.previewItem.IsInCart=!0)});f.$on("$destroy",g);nt=t.$on("unfavorite",function(n,t){t.item.CartDetailId===l.previewItem.CartDetailId&&(l.previewItem.IsFavorite=!1)});f.$on("$destroy",nt);tt=t.$on("favorite",function(n,t){t.item.CartDetailId===l.previewItem.CartDetailId&&(l.previewItem.IsFavorite=!0)});f.$on("$destroy",tt);l.previewMouseOver=function(){var n=c[0].BaseUrl.videoBase+l.previewItem.ProductId+".mp4";if(typeof l.prev=="undefined"&&(l.prev=!0),l.prev)try{a||p||l.video&&(l.selectedVideoId="#preview"+l.previewItem.ProductId,l.videoSrc=n,$(l.selectedVideoId)[0].src=l.videoSrc,$(l.selectedVideoId)[0].load(),$(l.selectedVideoId)[0].play())}catch(t){}};l.previewMouseout=function(){try{l.video&&($(l.selectedVideoId)[0].pause(),$(l.selectedVideoId)[0].playing||$(l.selectedVideoId)[0].load())}catch(n){console.log(n.message)}};l.favoriteMe=function(){if(h.userData.loggedIn)o.setFavorites(l.previewItem,!l.previewItem.IsFavorite);else{h.lastPageUrl=e.url();window.location.href="/account/login"}};l.addToCart=function(){s.cartIt(l.previewItem,!l.previewItem.IsInCart)};l.showIcons=function(){if(l.icn!="none"){a||p||(l.iconsCart="show");typeof l.icn=="undefined"&&(l.icn="all");switch(l.icn){case"none":y();break;case"favorite":l.iconsCart="hide";l.iconsFav="show";break;case"cart":l.iconsCart="show";l.iconsFav="hide";break;case"all":v()}}};l.hideIcons=function(){y()};l.showContext=function(){};l.goUrl=function(n){if(n!==undefined&&n.button===0&&(n.originalEvent.cancelBubble=!0,window.event.cancelBubble=!0),typeof l.clickThru=="undefined"&&(l.clickThru=!0),l.clickThru){var t=parseUrlTitle(l.previewItem.Title),i=l.previewItem.DetailUrl+"/"+l.previewItem.ProductId+"/"+t;n.ctrlKey||n.metaKey||n.shiftKey||(window.location.href=i)}else n.stopPropagation(),n.preventDefault(),window.event.cancelBubble=!0,n.originalEvent.cancelBubble=!0,l.showDownloadModal()};l.showDownloadModal=function(){t.$broadcast("downloadItemSet",{item:l.previewItem})};l.goProducer=function(){if(typeof l.clickThru=="undefined"){var n="/producers/"+l.previewItem.ProducerId+"/"+l.previewItem.ProducerName;e.path(n,!0)}};l.send=function(){};v=function(){l.iconsCart="show";l.iconsFav="show"};y=function(){l.previewItem.IsFavorite||l.previewItem.IsInCart?v():(l.iconsCart="hide",l.iconsFav="hide")};l.$onInit=function(){l.baseUrl=c[0].BaseUrl.previewImage_thumbnails;l.imgSrc=l.baseUrl+l.previewItem.ProductId+".jpg";l.description=it(l.previewItem.Description);l.previewItem.IsFavorite||l.previewItem.IsInCart?v():y();var n=c[0].ProductType.AllVideos;l.video=(l.previewItem.Type&n)==l.previewItem.Type;l.still=l.previewItem.Type===64;l.hd=l.previewItem.MaxQuality>2&&!(l.previewItem.Type===64);l.sd=!l.hd;l.poster=l.baseUrl+l.previewItem.ProductId+".jpg"};f.fadeIconIn=function(n){$(n.target).find("div").each(function(n,t){$(t).stop(!0,!0).animate({opacity:"1"},300)})};f.fadeIconOut=function(n){$(n.target).find("div").each(function(n,t){$(t).stop(!0,!0).animate({opacity:".7"},300)})}}var n=angular.module("softouch");n.component("itemPreview",{templateUrl:"/scripts/app/components/preview/itempreview.component.html",controllerAs:"cmp",bindings:{previewItem:"<",prev:"<",icn:"@",clickThru:"<"},controller:["$http","$rootScope","$sce","$element","$timeout","$scope","$location","favoritesService","cartService","userService","constants","downloadItemService",t]})}(),function(){"use strict";function t(n,t,i,r,u,f){var e=this,o;e.search={};e.search.phrase="";e.search.categories=u.getStaticList("search");e.search.selectedCategory=e.search.categories[0];e.keysearch=function(n){n!=undefined?(n.which===13&&(e.search.phrase!=""?o():null),n.which===27):o()};o=function(){var t,n;e.support?(t="https://support.easyworship.com/support/search?term="+e.search.phrase,$("#supportIframe").attr("src",t),toggleBodyCover(),r.itemData.selectedFilters.b=[],r.itemData.selectedFilters.b.push({id:e.search.selectedCategory.id},{key:"b"},{value:e.search.selectedCategory.id}),r.itemData.selectedFilters.s=[],r.itemData.selectedFilters.s.push({id:1},{key:"s"},{value:e.search.phrase})):(n="",e.search.selectedCategory.id!=9152&&(n="/b/"+e.search.selectedCategory.id,r.itemData.selectedFilters.b=[],r.itemData.selectedFilters.b.push({id:e.search.selectedCategory.id},{key:"b"},{value:e.search.selectedCategory.id})),r.itemData.selectedFilters.s=[],r.itemData.selectedFilters.s.push({id:1},{key:"s"},{value:e.search.phrase}),f.useCookie="search",f.setFiltersCookie(),window.location.href="/media/search/"+e.search.phrase+n)}}var n=angular.module("softouch");n.component("searchbar",{templateUrl:"/scripts/app/components/searchbar/searchbar.component.html",controllerAs:"cmp",bindings:{support:"<",searchLook:"@"},controller:["$scope","$rootScope","dataService","itemService","listService","cookieService",t]})}(),function(){"use strict";function t(n,t,i){var r=this,u;r.dropList=[];r.selectedItem={};r.$onInit=function(){};r.selectMe=function(n){event.preventDefault();event.cancelBubble=!0;r.selectedItem=n;$("#menu"+r.controlId).removeClass("open");t.$broadcast("itemSelected",{item:n,controlId:r.controlId})};r.dropdown=function(){event.preventDefault();event.cancelBubble=!0;var n=$("#menu"+r.controlId);n.hasClass("open")?n.removeClass("open"):n.addClass("open")};n.broadcastClick=function(n){t.$broadcast("controllerclick",{event:n})};u=t.$on("controllerclick",function(){$("#menu"+r.controlId).removeClass("open")});n.$on("$destroy",u);angular.element(document).ready(function(){r.customList||(r.dropList=i.getStaticList(r.listType));r.selectedItem=r.dropList[0]})}var n=angular.module("softouch");n.component("customSelect",{templateUrl:"/scripts/app/components/select/select.component.html",controllerAs:"cmp",bindings:{listType:"@",customStyle:"@",customList:"<",controlId:"@",textColor:"@",arrowStyle:"@"},controller:["$scope","$rootScope","listService",t]})}()