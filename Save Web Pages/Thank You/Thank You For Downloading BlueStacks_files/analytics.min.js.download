!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Auth0Analytics=t():e.Auth0Analytics=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n=e.src,o=e.id,r=e.globalName,i=e.globalNames,a=e.stubType,l=e.stubMethods,s=e.stub,d=void 0===s?null:s,f=e.window,p=e.document,h=p.createElement("script"),v=p.getElementsByTagName("script")[0],y=d||u(a,l);y&&(r&&(f[r]=y),(i||[]).forEach(function(e){f[e]=y})),h.async=!0,h.src=n,h.type="text/javascript",o&&(h.id=o);var g=new Promise(function(e,o){h.onerror=function(){var e="Error loading "+n;c.default.debug(e),y&&y._onError&&y._onError(e),t&&t(e),o(e)},h.onload=function(){c.default.debug(n+" loaded successfully"),y&&y._onLoad&&y._onLoad(f[r||i[0]]),t&&t(null,f[r||i[0]]),e(f[r||i[0]])}});return v.parentNode.insertBefore(h,v),g}function u(e,t){return"function"===e?i(t):null}function i(e){var t=function(e,t,n){return e._queue=e._queue||[],e._queue.push({method:t,args:n}),e},n=function e(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t(e,null,o)};return(e||[]).forEach(function(e){n[e]=function(){for(var o=arguments.length,r=Array(o),u=0;u<o;u++)r[u]=arguments[u];return t(n,e,r)}}),n._onLoad=function(e){for(;(n._queue||[]).length;){var t=n._queue.shift();t.method?e[t.method].apply(e,o(t.args)):e.apply(void 0,o(t.args))}},n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={log:function(){},debug:function(){},error:function(){}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)return u(new Error("config is required."),t);if(!e.label)return u(new Error("config.label is required."),t);var n=[],o=[],r={page:function(){o.forEach(function(t){try{t({type:"page",label:e.label})}catch(e){a.default.error("Error on page() handler"),a.default.error(e)}})},track:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.forEach(function(o){try{o({type:"track",id:t,properties:n,label:e.label})}catch(e){a.default.error("Error on page() handler"),a.default.error(e)}})},setUserId:function(e){o.forEach(function(t){try{t({type:"setUserId",userId:e})}catch(e){a.default.error("Error on setUserId() handler"),a.default.error(e)}})}};return e["facebook-pixel"]&&n.push((0,l.default)({config:e["facebook-pixel"],handlers:o,window:window,document:document})),e["facebook-analytics"]&&n.push((0,d.default)({config:e["facebook-analytics"],handlers:o,window:window,document:document})),e["google-analytics"]&&n.push((0,p.default)({config:e["google-analytics"],handlers:o,window:window,document:document})),e["twitter-ads-pixel"]&&n.push((0,v.default)({config:e["twitter-ads-pixel"],handlers:o,window:window,document:document})),e["google-adwords"]&&n.push((0,g.default)({config:e["google-adwords"],handlers:o,window:window,document:document})),Promise.all(n).then(function(){return t&&t(null,r),r}).catch(function(e){return u(e,t)}),r}function u(e,t){return t?t(e):Promise.reject(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=r;var i=n(1),a=o(i),c=n(5),l=o(c),s=n(4),d=o(s),f=n(7),p=o(f),h=n(8),v=o(h),y=n(6),g=o(y);t.default=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(){function e(){o(this,e),this.isReady=!1,this.queue=[]}return r(e,[{key:"_ready",value:function(){this.isReady=!0;for(var e=this.queue.shift();e;)e(),e=this.queue.shift()}},{key:"push",value:function(e){this.isReady?e():this.queue.push(e)}},{key:"run",value:function(e){var t=this;e()?this._ready():this.timeout=setTimeout(function(){t.run(e)},100)}},{key:"stop",value:function(){this.timeout&&clearTimeout(this.timeout)}}]),e}();t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){var t=e.type,n=e.id,o=e.properties,r=e.userId;return"page"===t?s.push(function(){FB.AppEvents.logPageView()}):"track"===t?s.push(function(){FB.AppEvents.logEvent(n,null,o)}):"setUserId"===t&&r?s.push(function(){FB.AppEvents.setUserID(r)}):null}var n=e.config,o=e.handlers,r=e.window,i=e.document,c=Promise.resolve();if(!n.preloaded){r.fbAsyncInit=function(){FB.init({appId:n.id,xfbml:!0,version:"v2.8"})},c=(0,a.default)({src:"https://connect.facebook.net/en_US/sdk.js",id:"facebook-jssdk",globalName:"FB",window:r,document:i})}var s=new l.default;return s.run(function(){return"object"===("undefined"==typeof FB?"undefined":u(FB))&&r.fbAsyncInit.hasRun}),o.push(t),c}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var i=n(0),a=o(i),c=n(3),l=o(c)},function(e,t,n){"use strict";function o(e){var t=e.config,n=e.handlers,o=e.window,u=e.document,a=Promise.resolve();if(!t.preloaded){var c=function e(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],a=(0,i.default)({src:"https://connect.facebook.net/en_US/fbevents.js",globalNames:["fbq","_fbq"],stub:c,window:o,document:u}),o.fbq("init",t.id)}return n.push(r),a}function r(e){var t=e.type,n=e.id,o=e.properties;return"page"===t?window.fbq("track","PageView"):"track"===t?window.fbq("trackCustom",n,o):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function o(e){var t=e.config,n=e.handlers,o=e.window,u=e.document,a=Promise.resolve();if(t.preloaded){a=(0,i.default)({src:"https://www.googleadservices.com/pagead/conversion_async.js",globalName:"google_trackConversion",stubType:"function",window:o,document:u})}return n.push(r.bind(null,t.id,t.mappings)),a}function r(e,t,n){var o=n.type,r=n.id;return"track"===o?(t||[]).filter(function(e){return e.evt===r}).forEach(function(t){window.google_trackConversion({google_conversion_id:e,google_conversion_label:t.label,google_remarketing_only:!1})}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function o(e){function t(e){var t=e.type,n=e.id,o=e.properties,u=e.label,i=e.userId,a=r.location||{};if("page"===t)return r.ga("send","pageview",{page:""+a.pathname+a.search+a.hash});if("track"===t){var c={hitType:"event",eventCategory:o.category||"All",eventAction:n,eventLabel:o.label||u};return r.ga("send",c)}return"setUserId"===t&&i?r.ga("set","userId",i):null}var n=e.config,o=e.handlers,r=e.window,i=e.document,a=Promise.resolve();if(n.preloaded){var c=function e(){e.q.push(arguments)};c.q=[],c.l=1*new Date,r.GoogleAnalyticsObject="ga",a=(0,u.default)({src:"https://www.google-analytics.com/analytics.js",globalName:"ga",stub:c,window:r,document:i}),r.ga("create",n.id,"auto")}return o.push(t),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function o(e){var t=e.config,n=e.handlers,o=e.window,u=e.document,a=Promise.resolve();if(t.preloaded){var c=function e(){e.exe?e.exe.apply(e,arguments):e.queue.push(arguments)};c.version="1.1",c.queue=[],a=(0,i.default)({src:"https://static.ads-twitter.com/uwt.js",globalName:"twq",stub:c,window:o,document:u}),o.twq("init",t.id)}return n.push(r.bind(null,t.mappings)),a}function r(e,t){var n=t.type,o=t.id,r=t.properties;return"page"===n?window.twq("track","PageView"):"track"===n?(e||[]).filter(function(e){return e.evt===o}).forEach(function(e){return window.twttr.conversion.trackPid(e.pid,r)}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,t,n){"use strict";function o(e){if("string"!=typeof e)throw new Error("Lock event name must be string.");return-1!==s.indexOf(e)}function r(e,t){if("string"!=typeof t)throw new Error("Lock event name must be string.");return-1!==e.validEvents.indexOf(t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;r(e,t)&&e.on(t,function(e){"authenticated"===t&&e&&e.idTokenPayload&&e.idTokenPayload.sub&&n.setUserId(e.idTokenPayload.sub);var o="auth0 lock "+t;n.track(o)})}function i(e){if(!window.auth0AnalyticsOptions)throw new Error("You must provide initialization options for Auth0 Analytics.");window.auth0AnalyticsOptions.label||(window.auth0AnalyticsOptions.label="Auth0 Analytics"),l=(0,c.default)(window.auth0AnalyticsOptions),e.validEvents.forEach(function(t){o(t)||u(e,t)})}var a=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=void 0,s=["hash_parsed"];if("function"==typeof Auth0Lock){var d=Auth0Lock.prototype;Auth0Lock=function(){var e=d.constructor.apply(this,arguments);return i(e),e},Auth0Lock.prototype=d}e.exports={IGNORED_EVENTS:s,eventShouldBeIgnored:o,eventIsAvailable:r,setupEvent:u,init:i}}])});
//# sourceMappingURL=analytics.min.js.map